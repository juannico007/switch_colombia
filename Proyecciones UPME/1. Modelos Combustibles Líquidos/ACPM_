{"cells":[{"cell_type":"markdown","metadata":{"id":"z2jTpRD_hgCk"},"source":["## Conexión ***Google Colab - Drive***"]},{"cell_type":"code","execution_count":15,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3457,"status":"ok","timestamp":1656445093976,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"yyFvm967hmkr","outputId":"7b90cc5c-9cd3-44e9-c9f6-d960e3b920e7"},"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}],"source":["#################################################################################################################################################################################\n","###### Acceso a Google Drive (Dar click en el link que aparece al correr el código y pegar en el cuadrito el código que aparece cuando le das permisos) \n","#################################################################################################################################################################################\n","import os, sys\n","from google.colab import drive\n","drive.mount(\"/content/drive\", force_remount=True)"]},{"cell_type":"markdown","metadata":{"id":"XLon4SSCgcM-"},"source":["## **Cargar** Módulos y Base de Datos"]},{"cell_type":"markdown","metadata":{"id":"pONFIkZIM_Ri"},"source":["### ***Cargar*** modulos\n"]},{"cell_type":"code","execution_count":16,"metadata":{"executionInfo":{"elapsed":414,"status":"ok","timestamp":1656445096886,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"3Cz4qoJ4uEKF"},"outputs":[],"source":["#################################################################################################################################################################################\n","###### Cargar librerías \n","#################################################################################################################################################################################\n","import pandas as pd\n","pd.set_option('display.float_format', lambda x: '%.5f' % x)\n","import numpy as np\n","import scipy as sp\n","\n","import tensorflow as tf\n","from keras.models import Sequential\n","from keras.layers import Dense, LSTM\n","import keras.regularizers\n","\n","from sklearn.linear_model import LinearRegression, Lasso\n","from sklearn.preprocessing import MinMaxScaler\n","\n","import plotly.express as px\n","\n","import warnings\n","warnings.simplefilter(action='ignore')\n","\n","modulos = \"/content/drive/MyDrive/Subdirección demanda/PAA/Seguimiento PAA 2021/Proyección de demanda/Proyecciones CL y GLP/Gestión técnica /Capacitación - 2 Módulo 3/modulos\"\n","sys.path.insert(0,modulos) # Para cargar modulos ya instalados\n","from pygam import LinearGAM\n","from pyearth import Earth \n","import gspread\n","import funcionesUPME as upme\n","\n","#################################################################################################################################################################################\n","###### Instalar algún módulo librerías (No es necesario volverlas a instalar)\n","#################################################################################################################################################################################\n","\n","# !pip install --target=$modulos pygam # Instala librería pygam que permite correr el modelo GAM\n","# !pip install --target=$modulos git+https://github.com/scikit-learn-contrib/py-earth@v0.2dev # Clona repositorio e instala pyearth\n","# !pip install --target=$modulos \"gspread>=5.0.0\" # actualiza módulo gsspread\n","# !pip install --upgrade=$modulos gspread # actualiza módulo gsspread"]},{"cell_type":"markdown","metadata":{"id":"tIi2TWg6nI2J"},"source":["### ***Cargar*** base de datos"]},{"cell_type":"code","execution_count":17,"metadata":{"executionInfo":{"elapsed":1160,"status":"ok","timestamp":1656445098318,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"6ULp_KZLnjjl"},"outputs":[],"source":["#################################################################################################################################################################################\n","###### Cargar Base de Datos\n","#################################################################################################################################################################################\n","dir_colab = \"/content/drive/MyDrive/Subdirección demanda/PAA/Seguimiento PAA 2021/Proyección de demanda/Proyecciones CL y GLP/Gestión técnica /Capacitación - 2 Módulo 3/BD Combustibles.xlsx\"\n","hoja_colab = \"Total\"\n","\n","df_combustible = pd.read_excel(dir_colab, hoja_colab)\n","\n","hoja_colab2 = \"Diccionario\"\n","df_diccionario = pd.read_excel(dir_colab, hoja_colab2)\n"]},{"cell_type":"markdown","metadata":{"id":"c0Iu4S2azwod"},"source":["## Nombre y Descripción de ***Variables***"]},{"cell_type":"code","execution_count":19,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"executionInfo":{"elapsed":308,"status":"ok","timestamp":1656445111334,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"xRb0zcONy4_0","outputId":"5288e3e7-7975-4302-b21b-3147a330e844"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["              Variable                                        Descripción\n","0                fecha  Hace referencia a la fecha en la cual es regis...\n","1                d_glp          Demanda Gas Licuado del Petroleo en GBTUD\n","2               d_acpm  Demanda ACPM, Diesel Marino y Electrocombustib...\n","3                 d_gm  Demanda Gasolina Motor Corriente, Extra y Avig...\n","4            d_jetfuel          \\nDemanda Jet Fuel y Queroseno en gal/mes\n","5            d_fueloil          Demanda Fuel Oil y Combustoleo en gal/mes\n","6              febrero  Dummy que busca capturar el efecto determinist...\n","7                marzo  Dummy que busca capturar el efecto determinist...\n","8                abril  Dummy que busca capturar el efecto determinist...\n","9                 mayo  Dummy que busca capturar el efecto determinist...\n","10               junio  Dummy que busca capturar el efecto determinist...\n","11               julio  Dummy que busca capturar el efecto determinist...\n","12              agosto  Dummy que busca capturar el efecto determinist...\n","13          septiembre  Dummy que busca capturar el efecto determinist...\n","14             octubre  Dummy que busca capturar el efecto determinist...\n","15           noviembre  Dummy que busca capturar el efecto determinist...\n","16           diciembre  Dummy que busca capturar el efecto determinist...\n","17                 pib  PIB Real Precios Constantes Año base 2015. Obs...\n","18            prop_lab              Proporción de día laborales en el mes\n","19           poblacion  Se realiza la desagregación de serie anual a m...\n","20               covid  Dummy que busca capturar el efecto negativo en...\n","21            covidjet   Dummy que busca capturar el efecto negativo e...\n","22            d_gnresi           Demanda Gas Natural Residencial en GBTUD\n","23            d_gntran            Demanda Gas Natural Transporte en GBTUD\n","24            d_gnindu    Demanda Gas Natural Industrial y otros en GBTUD\n","25            d_gnterc             Demanda Gas Natural Terciario en GBTUD\n","26             d_gntot                 Demanda Gas Natural Total en GBTUD\n","27             d_energ  Demanda Comercial de Energía Eléctrica en GWh ...\n","28                temp         Temperatura promedio en grados centígrados\n","29               p_glp                    Precio promedio del GLP en $/m3\n","30            p_carbon                 Precio promedio del Carbón en $/kg\n","31                p_gm         Precio promedio de gasolima motor en $/gal\n","32              p_acpm                   Precio promedio de acpm en $/gal\n","33           p_jetfuel               Precio promedio de jet fuel en $/gal\n","34           p_fueloil               Precio promedio fuel oil en USD/MBTU\n","35             p_crudo                         Precio del crudo en USD/BI\n","36          tot_aut_gm  Stock anual de vehículos de gasolina motor pro...\n","37      tot_aut_diesel  Stock anual de vehículos de Diesel proyectada ...\n","38       tot_aut_elect  Stock anual de vehículos electricos proyectada...\n","39         tot_aut_gnv  Stock anual de vehículos de GNV proyectada ent...\n","40         tot_aut_glp  Stock anual de vehículos de GLP proyectada ent...\n","41         tot_aut_gnl  Stock anual de vehículos de GNL proyectada ent...\n","42          tot_mot_gm  Stock anual de motos de gasolina motor proyect...\n","43      tot_mot_diesel  Stock anual de motos de diesel proyectada entr...\n","44       tot_mot_elect  Stock anual de motos electricas motor proyecta...\n","45         tot_mot_gnv  Stock anual de motos de GNV proyectada entre 2...\n","46      aut_liv_diesel  Stock anual de vehículos livianos de pasajeros...\n","47    aut_carga_diesel  Stock anual de vehículos livianos de carga (ca...\n","48  aut_pesados_diesel  Stock anual de vehículos pesados (Microbus, bu...\n","49          aut_liv_gm  Stock anual de vehículos livianos de pasajeros...\n","50        aut_carga_gm  Stock anual de vehículos livianos de carga (ca...\n","51      aut_pesados_gm  Stock anual de vehículos pesados (Microbus, bu...\n","52    rel_aut_elect/gm  Cociente entre el stock mensual de vehículos e...\n","53    rel_mot_elect/gm  Cociente entre el stock mensual de motos elect...\n","54            niñoniña                   Índice Oceánico Niño (ONI) en ºC\n","55                niño         Índice Oceánico Niño (ONI) mayores a 0.5ºC\n","56            dum_niño  Dummy que busca capturar los periodos en donde..."],"text/html":["\n","  <div id=\"df-9fdd8b8a-d552-49a4-8cf9-a4dfae25ed2a\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Variable</th>\n","      <th>Descripción</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>fecha</td>\n","      <td>Hace referencia a la fecha en la cual es regis...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>d_glp</td>\n","      <td>Demanda Gas Licuado del Petroleo en GBTUD</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>d_acpm</td>\n","      <td>Demanda ACPM, Diesel Marino y Electrocombustib...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>d_gm</td>\n","      <td>Demanda Gasolina Motor Corriente, Extra y Avig...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>d_jetfuel</td>\n","      <td>\\nDemanda Jet Fuel y Queroseno en gal/mes</td>\n","    </tr>\n","    <tr>\n","      <th>5</th>\n","      <td>d_fueloil</td>\n","      <td>Demanda Fuel Oil y Combustoleo en gal/mes</td>\n","    </tr>\n","    <tr>\n","      <th>6</th>\n","      <td>febrero</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>7</th>\n","      <td>marzo</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>8</th>\n","      <td>abril</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>9</th>\n","      <td>mayo</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>10</th>\n","      <td>junio</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>11</th>\n","      <td>julio</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>12</th>\n","      <td>agosto</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>13</th>\n","      <td>septiembre</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>14</th>\n","      <td>octubre</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>15</th>\n","      <td>noviembre</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>16</th>\n","      <td>diciembre</td>\n","      <td>Dummy que busca capturar el efecto determinist...</td>\n","    </tr>\n","    <tr>\n","      <th>17</th>\n","      <td>pib</td>\n","      <td>PIB Real Precios Constantes Año base 2015. Obs...</td>\n","    </tr>\n","    <tr>\n","      <th>18</th>\n","      <td>prop_lab</td>\n","      <td>Proporción de día laborales en el mes</td>\n","    </tr>\n","    <tr>\n","      <th>19</th>\n","      <td>poblacion</td>\n","      <td>Se realiza la desagregación de serie anual a m...</td>\n","    </tr>\n","    <tr>\n","      <th>20</th>\n","      <td>covid</td>\n","      <td>Dummy que busca capturar el efecto negativo en...</td>\n","    </tr>\n","    <tr>\n","      <th>21</th>\n","      <td>covidjet</td>\n","      <td>Dummy que busca capturar el efecto negativo e...</td>\n","    </tr>\n","    <tr>\n","      <th>22</th>\n","      <td>d_gnresi</td>\n","      <td>Demanda Gas Natural Residencial en GBTUD</td>\n","    </tr>\n","    <tr>\n","      <th>23</th>\n","      <td>d_gntran</td>\n","      <td>Demanda Gas Natural Transporte en GBTUD</td>\n","    </tr>\n","    <tr>\n","      <th>24</th>\n","      <td>d_gnindu</td>\n","      <td>Demanda Gas Natural Industrial y otros en GBTUD</td>\n","    </tr>\n","    <tr>\n","      <th>25</th>\n","      <td>d_gnterc</td>\n","      <td>Demanda Gas Natural Terciario en GBTUD</td>\n","    </tr>\n","    <tr>\n","      <th>26</th>\n","      <td>d_gntot</td>\n","      <td>Demanda Gas Natural Total en GBTUD</td>\n","    </tr>\n","    <tr>\n","      <th>27</th>\n","      <td>d_energ</td>\n","      <td>Demanda Comercial de Energía Eléctrica en GWh ...</td>\n","    </tr>\n","    <tr>\n","      <th>28</th>\n","      <td>temp</td>\n","      <td>Temperatura promedio en grados centígrados</td>\n","    </tr>\n","    <tr>\n","      <th>29</th>\n","      <td>p_glp</td>\n","      <td>Precio promedio del GLP en $/m3</td>\n","    </tr>\n","    <tr>\n","      <th>30</th>\n","      <td>p_carbon</td>\n","      <td>Precio promedio del Carbón en $/kg</td>\n","    </tr>\n","    <tr>\n","      <th>31</th>\n","      <td>p_gm</td>\n","      <td>Precio promedio de gasolima motor en $/gal</td>\n","    </tr>\n","    <tr>\n","      <th>32</th>\n","      <td>p_acpm</td>\n","      <td>Precio promedio de acpm en $/gal</td>\n","    </tr>\n","    <tr>\n","      <th>33</th>\n","      <td>p_jetfuel</td>\n","      <td>Precio promedio de jet fuel en $/gal</td>\n","    </tr>\n","    <tr>\n","      <th>34</th>\n","      <td>p_fueloil</td>\n","      <td>Precio promedio fuel oil en USD/MBTU</td>\n","    </tr>\n","    <tr>\n","      <th>35</th>\n","      <td>p_crudo</td>\n","      <td>Precio del crudo en USD/BI</td>\n","    </tr>\n","    <tr>\n","      <th>36</th>\n","      <td>tot_aut_gm</td>\n","      <td>Stock anual de vehículos de gasolina motor pro...</td>\n","    </tr>\n","    <tr>\n","      <th>37</th>\n","      <td>tot_aut_diesel</td>\n","      <td>Stock anual de vehículos de Diesel proyectada ...</td>\n","    </tr>\n","    <tr>\n","      <th>38</th>\n","      <td>tot_aut_elect</td>\n","      <td>Stock anual de vehículos electricos proyectada...</td>\n","    </tr>\n","    <tr>\n","      <th>39</th>\n","      <td>tot_aut_gnv</td>\n","      <td>Stock anual de vehículos de GNV proyectada ent...</td>\n","    </tr>\n","    <tr>\n","      <th>40</th>\n","      <td>tot_aut_glp</td>\n","      <td>Stock anual de vehículos de GLP proyectada ent...</td>\n","    </tr>\n","    <tr>\n","      <th>41</th>\n","      <td>tot_aut_gnl</td>\n","      <td>Stock anual de vehículos de GNL proyectada ent...</td>\n","    </tr>\n","    <tr>\n","      <th>42</th>\n","      <td>tot_mot_gm</td>\n","      <td>Stock anual de motos de gasolina motor proyect...</td>\n","    </tr>\n","    <tr>\n","      <th>43</th>\n","      <td>tot_mot_diesel</td>\n","      <td>Stock anual de motos de diesel proyectada entr...</td>\n","    </tr>\n","    <tr>\n","      <th>44</th>\n","      <td>tot_mot_elect</td>\n","      <td>Stock anual de motos electricas motor proyecta...</td>\n","    </tr>\n","    <tr>\n","      <th>45</th>\n","      <td>tot_mot_gnv</td>\n","      <td>Stock anual de motos de GNV proyectada entre 2...</td>\n","    </tr>\n","    <tr>\n","      <th>46</th>\n","      <td>aut_liv_diesel</td>\n","      <td>Stock anual de vehículos livianos de pasajeros...</td>\n","    </tr>\n","    <tr>\n","      <th>47</th>\n","      <td>aut_carga_diesel</td>\n","      <td>Stock anual de vehículos livianos de carga (ca...</td>\n","    </tr>\n","    <tr>\n","      <th>48</th>\n","      <td>aut_pesados_diesel</td>\n","      <td>Stock anual de vehículos pesados (Microbus, bu...</td>\n","    </tr>\n","    <tr>\n","      <th>49</th>\n","      <td>aut_liv_gm</td>\n","      <td>Stock anual de vehículos livianos de pasajeros...</td>\n","    </tr>\n","    <tr>\n","      <th>50</th>\n","      <td>aut_carga_gm</td>\n","      <td>Stock anual de vehículos livianos de carga (ca...</td>\n","    </tr>\n","    <tr>\n","      <th>51</th>\n","      <td>aut_pesados_gm</td>\n","      <td>Stock anual de vehículos pesados (Microbus, bu...</td>\n","    </tr>\n","    <tr>\n","      <th>52</th>\n","      <td>rel_aut_elect/gm</td>\n","      <td>Cociente entre el stock mensual de vehículos e...</td>\n","    </tr>\n","    <tr>\n","      <th>53</th>\n","      <td>rel_mot_elect/gm</td>\n","      <td>Cociente entre el stock mensual de motos elect...</td>\n","    </tr>\n","    <tr>\n","      <th>54</th>\n","      <td>niñoniña</td>\n","      <td>Índice Oceánico Niño (ONI) en ºC</td>\n","    </tr>\n","    <tr>\n","      <th>55</th>\n","      <td>niño</td>\n","      <td>Índice Oceánico Niño (ONI) mayores a 0.5ºC</td>\n","    </tr>\n","    <tr>\n","      <th>56</th>\n","      <td>dum_niño</td>\n","      <td>Dummy que busca capturar los periodos en donde...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-9fdd8b8a-d552-49a4-8cf9-a4dfae25ed2a')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-9fdd8b8a-d552-49a4-8cf9-a4dfae25ed2a button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-9fdd8b8a-d552-49a4-8cf9-a4dfae25ed2a');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":19}],"source":["df_diccionario[[\"Variable\", \"Descripción\"]]"]},{"cell_type":"markdown","metadata":{"id":"wb2xKa7TdZd-"},"source":["\n","## **Información de Entrada** para modelar"]},{"cell_type":"code","execution_count":20,"metadata":{"executionInfo":{"elapsed":380,"status":"ok","timestamp":1656445118764,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"jyqkWZxObCuV"},"outputs":[],"source":["###############################################################################\n","############################# MODELOS A ESTIMAR  ##############################\n","###############################################################################\n","# GAM_mod: Si se desea estimar el modelo GAM (\"True\"), si no (\"False\")\n","# MLR_mod: Si se desea estimar el modelo MLR (\"True\"), si no (\"False\")\n","# LASSO_mod: Si se desea estimar el modelo LASSO (\"True\"), si no (\"False\")\n","# MARS_mod: Si se desea estimar el modelo MARS (\"True\"), si no (\"False\")\n","# LSTM_mod: Si se desea estimar el modelo LSTM (\"True\"), si no (\"False\")\n","GAM_mod = False\n","MLR_mod = False\n","LASSO_mod = False\n","MARS_mod = False\n","LSTM_mod = True\n","\n","###############################################################################\n","############################## AJUSTE GENERALES  ##############################\n","###############################################################################\n","# ajuste_auto: hace referencia a si se desea hacer un ajuste automático (\"True\") o un ajuste manual (\"False\")\n","# crit_ajuste: hace referencia al críterio de ajuste que se desea emplear para el ajuste de los modelos \n","# optim_val: Se desea ajustar el mejor modelo a partir del MAPE de validación (\"True\") o de entrenamiento (\"False\")\n","# boots_rep: Número de replicas que se desea realizar en el bootstrap.\n","# log_correct : Variable booleana que permite aplicar el factor de corrección de sesgo de Guerrero (1993), la cual permite corregir\n","#               el sesgo generado por la transformación logarítmica que se le realiza a un conjunto de datos, empleando para ello,\n","#               la variabilidad calculada a través de las réplicas bootstrap realizadas. En caso de que no se realicen replicas bootstrap,\n","#               (boots_rep = 0), no se realizará ningún tipo de corrección a las variables logarítmicas. \n","# conf_level: Valor númerico entre 0 y 1 que hace referencia al nivel de confianza que se desea emplear en cálculo de los intervalos\n","#             bootstrap.\n","ajuste_auto = False\n","crit_ajuste = \"MAPE\"\n","optim_val = True\n","boots_rep = 100\n","log_correct = False\n","conf_level = 0.68\n","\n","###############################################################################\n","#### SI EL AJUSTE ES MANUAL (ajuste_auto = False) definir hiperparámetros  ####\n","###############################################################################\n","# GAM_n_spline: Número de splines (particiones) que hace el modelo GAM al momento\n","#               de realizar las estimaciones, este número debe ser un entero \n","#               mayor a 3, en donde no se recomienda usar valores superiores a 6.\n","# GAM_spline_order: Orden del polinomio de los spline del modelo GAM. Este valor\n","#                   debe ser un entero mayor a 2, en donde el entero seleccionado\n","#                   debe ser estrictamente menor al valor seleccionado para GAM_n_spline.\n","# MARS_max_degree: Número máximo de términos generados por el proceso de avance.\n","# MARS_penalty: Parámetro de suavizado que se utiliza en Validación Cruzada Generalizada \n","#               usada para determinar si se debe agregar una función de base lineal\n","#               o de bisagra durante el proceso de avance\n","# LSTM_capas: Número de capas de la red neuronal, Este valor debe ser un entero preferiblemente no mayor a 3.\n","# LSTM_activation: El método de activación\n","# LSTM_neur1: Número de neuronas en la primera capa del modelo de red neuronal\n","# LSTM_neur2: Número de neuronas en la segunda capa del modelo de red neuronal\n","# LSTM_neur3: Número de neuronas en la tercera capa del modelo de red neuronal\n","\n","GAM_n_spline =  5\n","GAM_spline_order = 3\n","GAM_lam = 0.16000\n","LASSO_alpha = 20\n","MARS_max_degree = 2\n","MARS_penalty = 4\n","LSTM_activation = \"tanh\"\n","LSTM_capas = 3\n","LSTM_neur1 = 30\n","LSTM_neur2 = 30\n","LSTM_neur3 = 20\n","\n","###############################################################################\n","############################## AJUSTE BASE DE DATOS  ##########################\n","###############################################################################\n","# y_dep: variable respuesta (dependiente)\n","# x_ind: variables explicativas (independientes)\n","# log_y_dep: variable respuesta que se desea transformar a escala logaritmica\n","# log_x_ind: variables explicativas que se desean transformar a escala logaritmica\n","# var_rez: Nombre variables que se quiere rezagar\n","# n_rez: número de rezagos variables\n","# rez_est: periodicidad de los rezagos -> 1: Rezagos simples, 2 -> Rezagos bimensuales, etc, etc\n","# val: Número de observaciones usadas para VALIDAR el modelo\n","y_dep = [\"d_acpm\"]\n","x_ind = [\"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\",\n","        \"septimbre\", \"octubre\", \"noviembre\", \"diciembre\", \"pib\", \"prop_lab\",\n","        \"poblacion\", \"covid\", \"p_acpm\",  \"d_gntran\", \"tot_aut_diesel\"]\n","var_rez = [\"d_acpm\"] \n","n_rez = [2]\n","rez_est = 1 \n","val = 12\n","log_var = []"]},{"cell_type":"markdown","metadata":{"id":"yUFuHLgzylI_"},"source":["## ***Cálculo de Información*** de Entrada"]},{"cell_type":"markdown","metadata":{"id":"uBG7iTbP33FI"},"source":["### ***Rezagar*** Variables"]},{"cell_type":"code","execution_count":21,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":483},"executionInfo":{"elapsed":415,"status":"ok","timestamp":1656445123717,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"Kku35Lx5ZQny","outputId":"8e67aed0-51e8-4e8f-a044-672379c99f8c"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["         d_acpm_t-1      d_acpm_t-2\n","0               NaN             NaN\n","1   131051920.60000             NaN\n","2   133904903.80000 131051920.60000\n","3   151263717.00000 133904903.80000\n","4   138540207.00000 151263717.00000\n","..              ...             ...\n","307             NaN             NaN\n","308             NaN             NaN\n","309             NaN             NaN\n","310             NaN             NaN\n","311             NaN             NaN\n","\n","[312 rows x 2 columns]"],"text/html":["\n","  <div id=\"df-4b99bae5-54bc-4ec6-a750-663c623bc341\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>d_acpm_t-1</th>\n","      <th>d_acpm_t-2</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>131051920.60000</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>133904903.80000</td>\n","      <td>131051920.60000</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>151263717.00000</td>\n","      <td>133904903.80000</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>138540207.00000</td>\n","      <td>151263717.00000</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>307</th>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>308</th>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>309</th>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>310</th>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>311</th>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>312 rows × 2 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-4b99bae5-54bc-4ec6-a750-663c623bc341')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-4b99bae5-54bc-4ec6-a750-663c623bc341 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-4b99bae5-54bc-4ec6-a750-663c623bc341');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":21}],"source":["###############################################################################\n","###### Rezagos de las variables\n","###############################################################################\n","var = df_combustible[var_rez]\n","rezagos = upme.rezagar(var = var, n_rez = n_rez, rez_est = rez_est)\n","rezagos"]},{"cell_type":"markdown","metadata":{"id":"v0IVyLE4HlMJ"},"source":["### ***Base de datos*** para modelar"]},{"cell_type":"code","execution_count":22,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":483},"executionInfo":{"elapsed":16,"status":"ok","timestamp":1656445124109,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"WDy3Clqw4LR6","outputId":"4f3a2fff-9a99-4187-8870-3b752543c8e4"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["             d_acpm  febrero   marzo   abril    mayo   junio   julio  agosto  \\\n","0   131051920.60000  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","1   133904903.80000  1.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","2   151263717.00000  0.00000 1.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","3   138540207.00000  0.00000 0.00000 1.00000 0.00000 0.00000 0.00000 0.00000   \n","4   144829725.80000  0.00000 0.00000 0.00000 1.00000 0.00000 0.00000 0.00000   \n","..              ...      ...     ...     ...     ...     ...     ...     ...   \n","307             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 1.00000   \n","308             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","309             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","310             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","311             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","\n","     septimbre  octubre  ...  diciembre          pib  prop_lab  poblacion  \\\n","0      0.00000  0.00000  ...    0.00000  48417.39181   0.77419   43.86791   \n","1      0.00000  0.00000  ...    0.00000  50368.74044   0.85714   43.90790   \n","2      0.00000  0.00000  ...    0.00000  49670.27175   0.83871   43.94781   \n","3      0.00000  0.00000  ...    0.00000  52082.50209   0.80000   43.98763   \n","4      0.00000  0.00000  ...    0.00000  51464.57140   0.77419   44.02736   \n","..         ...      ...  ...        ...          ...       ...        ...   \n","307    0.00000  0.00000  ...    0.00000 125501.00000   0.80645   57.85329   \n","308    1.00000  0.00000  ...    0.00000 130002.00000   0.83333   57.88555   \n","309    0.00000  1.00000  ...    0.00000 134294.00000   0.83871   57.91771   \n","310    0.00000  0.00000  ...    0.00000 138508.00000   0.80000   57.94978   \n","311    0.00000  0.00000  ...    1.00000 140955.00000   0.77419   57.98175   \n","\n","      covid     p_acpm  d_gntran  tot_aut_diesel      d_acpm_t-1  \\\n","0   0.00000 4706.17006  74.21838    413559.12260             NaN   \n","1   0.00000 4805.13833  80.30919    416145.56180 131051920.60000   \n","2   0.00000 4789.40982  76.35472    418925.46440 133904903.80000   \n","3   0.00000 4989.40616  75.77132    421239.72850 151263717.00000   \n","4   0.00000 4989.44844  77.21317    423599.77060 138540207.00000   \n","..      ...        ...       ...             ...             ...   \n","307 0.00000 9804.69110  57.00000   1281120.06800             NaN   \n","308 0.00000 9804.69110  59.00000   1283055.37800             NaN   \n","309 0.00000 9804.69110  53.00000   1284990.31200             NaN   \n","310 0.00000 9804.69110  60.00000   1286970.08300             NaN   \n","311 0.00000 9804.69110  53.00000   1290170.66000             NaN   \n","\n","         d_acpm_t-2  \n","0               NaN  \n","1               NaN  \n","2   131051920.60000  \n","3   133904903.80000  \n","4   151263717.00000  \n","..              ...  \n","307             NaN  \n","308             NaN  \n","309             NaN  \n","310             NaN  \n","311             NaN  \n","\n","[312 rows x 21 columns]"],"text/html":["\n","  <div id=\"df-515812ef-c93e-4677-9405-fc85230a7b7e\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>d_acpm</th>\n","      <th>febrero</th>\n","      <th>marzo</th>\n","      <th>abril</th>\n","      <th>mayo</th>\n","      <th>junio</th>\n","      <th>julio</th>\n","      <th>agosto</th>\n","      <th>septimbre</th>\n","      <th>octubre</th>\n","      <th>...</th>\n","      <th>diciembre</th>\n","      <th>pib</th>\n","      <th>prop_lab</th>\n","      <th>poblacion</th>\n","      <th>covid</th>\n","      <th>p_acpm</th>\n","      <th>d_gntran</th>\n","      <th>tot_aut_diesel</th>\n","      <th>d_acpm_t-1</th>\n","      <th>d_acpm_t-2</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>131051920.60000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>48417.39181</td>\n","      <td>0.77419</td>\n","      <td>43.86791</td>\n","      <td>0.00000</td>\n","      <td>4706.17006</td>\n","      <td>74.21838</td>\n","      <td>413559.12260</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>133904903.80000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>50368.74044</td>\n","      <td>0.85714</td>\n","      <td>43.90790</td>\n","      <td>0.00000</td>\n","      <td>4805.13833</td>\n","      <td>80.30919</td>\n","      <td>416145.56180</td>\n","      <td>131051920.60000</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>151263717.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>49670.27175</td>\n","      <td>0.83871</td>\n","      <td>43.94781</td>\n","      <td>0.00000</td>\n","      <td>4789.40982</td>\n","      <td>76.35472</td>\n","      <td>418925.46440</td>\n","      <td>133904903.80000</td>\n","      <td>131051920.60000</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>138540207.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>52082.50209</td>\n","      <td>0.80000</td>\n","      <td>43.98763</td>\n","      <td>0.00000</td>\n","      <td>4989.40616</td>\n","      <td>75.77132</td>\n","      <td>421239.72850</td>\n","      <td>151263717.00000</td>\n","      <td>133904903.80000</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>144829725.80000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>51464.57140</td>\n","      <td>0.77419</td>\n","      <td>44.02736</td>\n","      <td>0.00000</td>\n","      <td>4989.44844</td>\n","      <td>77.21317</td>\n","      <td>423599.77060</td>\n","      <td>138540207.00000</td>\n","      <td>151263717.00000</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>307</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>125501.00000</td>\n","      <td>0.80645</td>\n","      <td>57.85329</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>57.00000</td>\n","      <td>1281120.06800</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>308</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>130002.00000</td>\n","      <td>0.83333</td>\n","      <td>57.88555</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>59.00000</td>\n","      <td>1283055.37800</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>309</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>134294.00000</td>\n","      <td>0.83871</td>\n","      <td>57.91771</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>53.00000</td>\n","      <td>1284990.31200</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>310</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>138508.00000</td>\n","      <td>0.80000</td>\n","      <td>57.94978</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>60.00000</td>\n","      <td>1286970.08300</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>311</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>1.00000</td>\n","      <td>140955.00000</td>\n","      <td>0.77419</td>\n","      <td>57.98175</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>53.00000</td>\n","      <td>1290170.66000</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>312 rows × 21 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-515812ef-c93e-4677-9405-fc85230a7b7e')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-515812ef-c93e-4677-9405-fc85230a7b7e button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-515812ef-c93e-4677-9405-fc85230a7b7e');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":22}],"source":["#################################################################################################################################################################################\n","###### Base de datos para modelar\n","#################################################################################################################################################################################\n","# Fechas: Variable de fechas (No se usa en el modelo)\n","fechas = df_combustible[[\"fecha\"]]\n","y_var =  df_combustible[y_dep].dropna()\n","x_var = pd.concat([df_combustible[x_ind], rezagos], axis = 1)\n","pd.concat([y_var, x_var], axis = 1)"]},{"cell_type":"markdown","metadata":{"id":"Vb_nPOS4auQU"},"source":["### ***Logaritmo*** Variables"]},{"cell_type":"code","execution_count":23,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":483},"executionInfo":{"elapsed":12,"status":"ok","timestamp":1656445124110,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"Paxm9CjUau2Z","outputId":"3cb485b7-9689-4b8f-c156-eda440a6ec2d"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["             d_acpm  febrero   marzo   abril    mayo   junio   julio  agosto  \\\n","0   131051920.60000  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","1   133904903.80000  1.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","2   151263717.00000  0.00000 1.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","3   138540207.00000  0.00000 0.00000 1.00000 0.00000 0.00000 0.00000 0.00000   \n","4   144829725.80000  0.00000 0.00000 0.00000 1.00000 0.00000 0.00000 0.00000   \n","..              ...      ...     ...     ...     ...     ...     ...     ...   \n","307             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 1.00000   \n","308             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","309             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","310             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","311             NaN  0.00000 0.00000 0.00000 0.00000 0.00000 0.00000 0.00000   \n","\n","     septimbre  octubre  ...  diciembre          pib  prop_lab  poblacion  \\\n","0      0.00000  0.00000  ...    0.00000  48417.39181   0.77419   43.86791   \n","1      0.00000  0.00000  ...    0.00000  50368.74044   0.85714   43.90790   \n","2      0.00000  0.00000  ...    0.00000  49670.27175   0.83871   43.94781   \n","3      0.00000  0.00000  ...    0.00000  52082.50209   0.80000   43.98763   \n","4      0.00000  0.00000  ...    0.00000  51464.57140   0.77419   44.02736   \n","..         ...      ...  ...        ...          ...       ...        ...   \n","307    0.00000  0.00000  ...    0.00000 125501.00000   0.80645   57.85329   \n","308    1.00000  0.00000  ...    0.00000 130002.00000   0.83333   57.88555   \n","309    0.00000  1.00000  ...    0.00000 134294.00000   0.83871   57.91771   \n","310    0.00000  0.00000  ...    0.00000 138508.00000   0.80000   57.94978   \n","311    0.00000  0.00000  ...    1.00000 140955.00000   0.77419   57.98175   \n","\n","      covid     p_acpm  d_gntran  tot_aut_diesel      d_acpm_t-1  \\\n","0   0.00000 4706.17006  74.21838    413559.12260             NaN   \n","1   0.00000 4805.13833  80.30919    416145.56180 131051920.60000   \n","2   0.00000 4789.40982  76.35472    418925.46440 133904903.80000   \n","3   0.00000 4989.40616  75.77132    421239.72850 151263717.00000   \n","4   0.00000 4989.44844  77.21317    423599.77060 138540207.00000   \n","..      ...        ...       ...             ...             ...   \n","307 0.00000 9804.69110  57.00000   1281120.06800             NaN   \n","308 0.00000 9804.69110  59.00000   1283055.37800             NaN   \n","309 0.00000 9804.69110  53.00000   1284990.31200             NaN   \n","310 0.00000 9804.69110  60.00000   1286970.08300             NaN   \n","311 0.00000 9804.69110  53.00000   1290170.66000             NaN   \n","\n","         d_acpm_t-2  \n","0               NaN  \n","1               NaN  \n","2   131051920.60000  \n","3   133904903.80000  \n","4   151263717.00000  \n","..              ...  \n","307             NaN  \n","308             NaN  \n","309             NaN  \n","310             NaN  \n","311             NaN  \n","\n","[312 rows x 21 columns]"],"text/html":["\n","  <div id=\"df-e88be286-b1b9-4352-ba69-513ff2af466c\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>d_acpm</th>\n","      <th>febrero</th>\n","      <th>marzo</th>\n","      <th>abril</th>\n","      <th>mayo</th>\n","      <th>junio</th>\n","      <th>julio</th>\n","      <th>agosto</th>\n","      <th>septimbre</th>\n","      <th>octubre</th>\n","      <th>...</th>\n","      <th>diciembre</th>\n","      <th>pib</th>\n","      <th>prop_lab</th>\n","      <th>poblacion</th>\n","      <th>covid</th>\n","      <th>p_acpm</th>\n","      <th>d_gntran</th>\n","      <th>tot_aut_diesel</th>\n","      <th>d_acpm_t-1</th>\n","      <th>d_acpm_t-2</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>131051920.60000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>48417.39181</td>\n","      <td>0.77419</td>\n","      <td>43.86791</td>\n","      <td>0.00000</td>\n","      <td>4706.17006</td>\n","      <td>74.21838</td>\n","      <td>413559.12260</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>133904903.80000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>50368.74044</td>\n","      <td>0.85714</td>\n","      <td>43.90790</td>\n","      <td>0.00000</td>\n","      <td>4805.13833</td>\n","      <td>80.30919</td>\n","      <td>416145.56180</td>\n","      <td>131051920.60000</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>151263717.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>49670.27175</td>\n","      <td>0.83871</td>\n","      <td>43.94781</td>\n","      <td>0.00000</td>\n","      <td>4789.40982</td>\n","      <td>76.35472</td>\n","      <td>418925.46440</td>\n","      <td>133904903.80000</td>\n","      <td>131051920.60000</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>138540207.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>52082.50209</td>\n","      <td>0.80000</td>\n","      <td>43.98763</td>\n","      <td>0.00000</td>\n","      <td>4989.40616</td>\n","      <td>75.77132</td>\n","      <td>421239.72850</td>\n","      <td>151263717.00000</td>\n","      <td>133904903.80000</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>144829725.80000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>51464.57140</td>\n","      <td>0.77419</td>\n","      <td>44.02736</td>\n","      <td>0.00000</td>\n","      <td>4989.44844</td>\n","      <td>77.21317</td>\n","      <td>423599.77060</td>\n","      <td>138540207.00000</td>\n","      <td>151263717.00000</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>307</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>125501.00000</td>\n","      <td>0.80645</td>\n","      <td>57.85329</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>57.00000</td>\n","      <td>1281120.06800</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>308</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>130002.00000</td>\n","      <td>0.83333</td>\n","      <td>57.88555</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>59.00000</td>\n","      <td>1283055.37800</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>309</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>1.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>134294.00000</td>\n","      <td>0.83871</td>\n","      <td>57.91771</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>53.00000</td>\n","      <td>1284990.31200</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>310</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>0.00000</td>\n","      <td>138508.00000</td>\n","      <td>0.80000</td>\n","      <td>57.94978</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>60.00000</td>\n","      <td>1286970.08300</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>311</th>\n","      <td>NaN</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>0.00000</td>\n","      <td>...</td>\n","      <td>1.00000</td>\n","      <td>140955.00000</td>\n","      <td>0.77419</td>\n","      <td>57.98175</td>\n","      <td>0.00000</td>\n","      <td>9804.69110</td>\n","      <td>53.00000</td>\n","      <td>1290170.66000</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>312 rows × 21 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-e88be286-b1b9-4352-ba69-513ff2af466c')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-e88be286-b1b9-4352-ba69-513ff2af466c button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-e88be286-b1b9-4352-ba69-513ff2af466c');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":23}],"source":["###############################################################################\n","###### Cálculo logaritmos\n","###############################################################################\n","y_var = upme.trans_log(var = y_var, log_var = log_var)\n","x_var = upme.trans_log(var = x_var, log_var = log_var)\n","pd.concat([y_var, x_var], axis = 1)"]},{"cell_type":"markdown","metadata":{"id":"M02hF1ewHr3H"},"source":["### ***Conteo*** observaciones disponibles\n"]},{"cell_type":"code","execution_count":24,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":10,"status":"ok","timestamp":1656445124111,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"UGMUBqhQHwNB","outputId":"a8881117-6856-4c04-fd0e-86892287a66b"},"outputs":[{"output_type":"stream","name":"stdout","text":["Total Observaciones: 147, Total Observaciones Perdidas: 2, Estimación: 133, Validación: 12, Pronóstico: 165 \n"]}],"source":["# tot: Total de observaciones disponibles luego de aplicar rezagos\n","# rez: Total observaciones perdidas por rezagos\n","# est: Número de observaciones usadas para ESTIMAR el modelo \n","# pron: Número de observaciones a PRONOSTICAR con el modelo\n","tot = len(y_var.dropna(0))\n","pron = len(df_combustible[\"fecha\"]) - tot\n","rez = max(np.multiply(n_rez, rez_est)) if isinstance(np.multiply(n_rez, rez_est), np.ndarray) else np.multiply(n_rez, rez_est)                                                                     \n","est = tot - rez - val            \n","print('Total Observaciones: {0}, Total Observaciones Perdidas: {1}, Estimación: {2}, Validación: {3}, Pronóstico: {4} '.format(tot, rez, est, val, pron))"]},{"cell_type":"markdown","metadata":{"id":"sJA-1SB4Pl6I"},"source":["## ***Entrenamiento y Validación*** de los modelos"]},{"cell_type":"markdown","metadata":{"id":"1Rj9CleeS17Y"},"source":["### Ajuste modelo e ***Hiperparámetros***"]},{"cell_type":"code","execution_count":25,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"id":"i50Pe7aSQJek","outputId":"b0274c26-19d6-485a-ec20-6919fe127a14","executionInfo":{"status":"ok","timestamp":1656447589007,"user_tz":300,"elapsed":2461819,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"}}},"outputs":[{"output_type":"stream","name":"stdout","text":["Bootstrap LSTM : 1.0 %\n","Bootstrap LSTM : 2.0 %\n","Bootstrap LSTM : 3.0 %\n","Bootstrap LSTM : 4.0 %\n","Bootstrap LSTM : 5.0 %\n","Bootstrap LSTM : 6.0 %\n","Bootstrap LSTM : 7.0 %\n","Bootstrap LSTM : 8.0 %\n","Bootstrap LSTM : 9.0 %\n","Bootstrap LSTM : 10.0 %\n","Bootstrap LSTM : 11.0 %\n","Bootstrap LSTM : 12.0 %\n","Bootstrap LSTM : 13.0 %\n","Bootstrap LSTM : 14.0 %\n","Bootstrap LSTM : 15.0 %\n","Bootstrap LSTM : 16.0 %\n","Bootstrap LSTM : 17.0 %\n","Bootstrap LSTM : 18.0 %\n","Bootstrap LSTM : 19.0 %\n","Bootstrap LSTM : 20.0 %\n","Bootstrap LSTM : 21.0 %\n","Bootstrap LSTM : 22.0 %\n","Bootstrap LSTM : 23.0 %\n","Bootstrap LSTM : 24.0 %\n","Bootstrap LSTM : 25.0 %\n","Bootstrap LSTM : 26.0 %\n","Bootstrap LSTM : 27.0 %\n","Bootstrap LSTM : 28.0 %\n","Bootstrap LSTM : 29.0 %\n","Bootstrap LSTM : 30.0 %\n","Bootstrap LSTM : 31.0 %\n","Bootstrap LSTM : 32.0 %\n","Bootstrap LSTM : 33.0 %\n","Bootstrap LSTM : 34.0 %\n","Bootstrap LSTM : 35.0 %\n","Bootstrap LSTM : 36.0 %\n","Bootstrap LSTM : 37.0 %\n","Bootstrap LSTM : 38.0 %\n","Bootstrap LSTM : 39.0 %\n","Bootstrap LSTM : 40.0 %\n","Bootstrap LSTM : 41.0 %\n","Bootstrap LSTM : 42.0 %\n","Bootstrap LSTM : 43.0 %\n","Bootstrap LSTM : 44.0 %\n","Bootstrap LSTM : 45.0 %\n","Bootstrap LSTM : 46.0 %\n","Bootstrap LSTM : 47.0 %\n","Bootstrap LSTM : 48.0 %\n","Bootstrap LSTM : 49.0 %\n","Bootstrap LSTM : 50.0 %\n","Bootstrap LSTM : 51.0 %\n","Bootstrap LSTM : 52.0 %\n","Bootstrap LSTM : 53.0 %\n","Bootstrap LSTM : 54.0 %\n","Bootstrap LSTM : 55.0 %\n","Bootstrap LSTM : 56.0 %\n","Bootstrap LSTM : 57.0 %\n","Bootstrap LSTM : 58.0 %\n","Bootstrap LSTM : 59.0 %\n","Bootstrap LSTM : 60.0 %\n","Bootstrap LSTM : 61.0 %\n","Bootstrap LSTM : 62.0 %\n","Bootstrap LSTM : 63.0 %\n","Bootstrap LSTM : 64.0 %\n","Bootstrap LSTM : 65.0 %\n","Bootstrap LSTM : 66.0 %\n","Bootstrap LSTM : 67.0 %\n","Bootstrap LSTM : 68.0 %\n","Bootstrap LSTM : 69.0 %\n","Bootstrap LSTM : 70.0 %\n","Bootstrap LSTM : 71.0 %\n","Bootstrap LSTM : 72.0 %\n","Bootstrap LSTM : 73.0 %\n","Bootstrap LSTM : 74.0 %\n","Bootstrap LSTM : 75.0 %\n","Bootstrap LSTM : 76.0 %\n","Bootstrap LSTM : 77.0 %\n","Bootstrap LSTM : 78.0 %\n","Bootstrap LSTM : 79.0 %\n","Bootstrap LSTM : 80.0 %\n","Bootstrap LSTM : 81.0 %\n","Bootstrap LSTM : 82.0 %\n","Bootstrap LSTM : 83.0 %\n","Bootstrap LSTM : 84.0 %\n","Bootstrap LSTM : 85.0 %\n","Bootstrap LSTM : 86.0 %\n","Bootstrap LSTM : 87.0 %\n","Bootstrap LSTM : 88.0 %\n","Bootstrap LSTM : 89.0 %\n","Bootstrap LSTM : 90.0 %\n","Bootstrap LSTM : 91.0 %\n","Bootstrap LSTM : 92.0 %\n","Bootstrap LSTM : 93.0 %\n","Bootstrap LSTM : 94.0 %\n","Bootstrap LSTM : 95.0 %\n","Bootstrap LSTM : 96.0 %\n","Bootstrap LSTM : 97.0 %\n","Bootstrap LSTM : 98.0 %\n","Bootstrap LSTM : 99.0 %\n","Bootstrap LSTM : 100.0 %\n"]},{"output_type":"execute_result","data":{"text/plain":["      MAPE Entrenamiento  MAPE Validación\n","LSTM             3.38448          8.02878"],"text/html":["\n","  <div id=\"df-e6261531-5df7-47dc-98ed-59bc7ca03cc5\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>MAPE Entrenamiento</th>\n","      <th>MAPE Validación</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>LSTM</th>\n","      <td>3.38448</td>\n","      <td>8.02878</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-e6261531-5df7-47dc-98ed-59bc7ca03cc5')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-e6261531-5df7-47dc-98ed-59bc7ca03cc5 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-e6261531-5df7-47dc-98ed-59bc7ca03cc5');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":25}],"source":["##### Método automático\n","if ajuste_auto == True:\n","  res_mod = upme.autoestimacion(y_var = y_var, x_var = x_var, fechas = fechas, tot = tot,\n","                          rez = rez, val = val, est = est, pron = pron, \n","                          crit_ajuste = crit_ajuste,\n","                          GAM_mod = GAM_mod, MLR_mod = MLR_mod, LASSO_mod = LASSO_mod,\n","                          MARS_mod = MARS_mod, LSTM_mod = LSTM_mod,\n","                          optim_val = optim_val, boots_rep = boots_rep,\n","                          log_correct = log_correct, conf_level = conf_level) \n","  hiperpar = res_mod[3] # hiperparámetros utilizados!\n","  print(hiperpar)\n","else:\n","  res_mod = upme.estimacion(y_var = y_var, x_var = x_var, fechas = fechas, tot = tot,\n","                       rez = rez, val = val, est = est, pron = pron, \n","                       GAM_mod = GAM_mod, MLR_mod = MLR_mod, LASSO_mod = LASSO_mod,\n","                       MARS_mod = MARS_mod, LSTM_mod = LSTM_mod,\n","                       GAM_n_spline = GAM_n_spline,\n","                       GAM_spline_order = GAM_spline_order, GAM_lam = GAM_lam,\n","                       LASSO_alpha = LASSO_alpha,\n","                       MARS_max_degree = MARS_max_degree, MARS_penalty = MARS_penalty,\n","                       LSTM_activation = LSTM_activation, LSTM_capas = LSTM_capas,\n","                       LSTM_neur1 = LSTM_neur1, LSTM_neur2 = LSTM_neur2, LSTM_neur3 = LSTM_neur3,\n","                       crit_ajuste = crit_ajuste, boots_rep = boots_rep,\n","                       log_correct = log_correct,\n","                       conf_level = conf_level)\n","res_mod[0]"]},{"cell_type":"markdown","metadata":{"id":"30SLglGA9WuC"},"source":["#### Metodología de ***combinación de pronósticos***"]},{"cell_type":"code","execution_count":26,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":111},"executionInfo":{"elapsed":400,"status":"ok","timestamp":1656447615521,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"RGsLZLWk9Yd_","outputId":"b3895908-478e-4f63-d9cd-2642ce2c091e"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["             MAPE Entrenamiento  MAPE Validación\n","LSTM                    3.38448          8.02878\n","Combinación             3.38448          8.02878"],"text/html":["\n","  <div id=\"df-4fc9a90a-ea6e-45c9-94a2-403cae4efd26\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>MAPE Entrenamiento</th>\n","      <th>MAPE Validación</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>LSTM</th>\n","      <td>3.38448</td>\n","      <td>8.02878</td>\n","    </tr>\n","    <tr>\n","      <th>Combinación</th>\n","      <td>3.38448</td>\n","      <td>8.02878</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-4fc9a90a-ea6e-45c9-94a2-403cae4efd26')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-4fc9a90a-ea6e-45c9-94a2-403cae4efd26 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-4fc9a90a-ea6e-45c9-94a2-403cae4efd26');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":26}],"source":["res_comb = upme.combinacion(resultados = res_mod, y_var = y_var, x_var = x_var, \n","                       use_GAM = False, use_MLR = False, use_LASSO = False,\n","                       use_MARS = True, use_LSTM = True)\n","mape = res_comb[0]\n","mape"]},{"cell_type":"markdown","metadata":{"id":"ulb4gJlaS4EN"},"source":["#### ***Observación*** de datos reales, validación y proyección"]},{"cell_type":"code","execution_count":28,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":653},"executionInfo":{"elapsed":10,"status":"ok","timestamp":1656447620350,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"halT0Xr3Q546","outputId":"cd2b0ffe-02b4-407d-88ae-a073811229f3"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["        Fechas            Real        LSTM_Inf            LSTM  \\\n","135 2021-04-01 173615056.00000 163633936.41425 169531715.51451   \n","136 2021-05-01 147994291.00000 164752323.33648 171619507.88725   \n","137 2021-06-01 181532407.00000 163379366.22520 171408218.02931   \n","138 2021-07-01 195763190.00000 171704710.01245 179771997.11824   \n","139 2021-08-01 188254733.00000 167551880.91711 175619793.61050   \n","..         ...             ...             ...             ...   \n","307 2035-08-01             NaN 201905020.21157 212832781.06525   \n","308 2035-09-01             NaN 199838102.22059 211356802.76886   \n","309 2035-10-01             NaN 205831838.68668 216526745.45649   \n","310 2035-11-01             NaN 200211953.04440 211300119.83905   \n","311 2035-12-01             NaN 202523851.47803 213907753.05587   \n","\n","           LSTM_Sup        Comb_Inf     Combinacion        Comb_Sup  \n","135 175429494.61477 163633936.41425 169531715.51451 175429494.61477  \n","136 178486692.43803 164752323.33648 171619507.88725 178486692.43803  \n","137 179437069.83343 163379366.22520 171408218.02931 179437069.83343  \n","138 187839284.22402 171704710.01245 179771997.11824 187839284.22402  \n","139 183687706.30389 167551880.91711 175619793.61050 183687706.30389  \n","..              ...             ...             ...             ...  \n","307 223760541.91894 201905020.21157 212832781.06525 223760541.91894  \n","308 222875503.31712 199838102.22059 211356802.76886 222875503.31712  \n","309 227221652.22629 205831838.68668 216526745.45649 227221652.22629  \n","310 222388286.63371 200211953.04440 211300119.83905 222388286.63371  \n","311 225291654.63370 202523851.47803 213907753.05587 225291654.63370  \n","\n","[177 rows x 8 columns]"],"text/html":["\n","  <div id=\"df-4448bafb-57ad-402f-9eb5-4a9d6050b5ac\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Fechas</th>\n","      <th>Real</th>\n","      <th>LSTM_Inf</th>\n","      <th>LSTM</th>\n","      <th>LSTM_Sup</th>\n","      <th>Comb_Inf</th>\n","      <th>Combinacion</th>\n","      <th>Comb_Sup</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>135</th>\n","      <td>2021-04-01</td>\n","      <td>173615056.00000</td>\n","      <td>163633936.41425</td>\n","      <td>169531715.51451</td>\n","      <td>175429494.61477</td>\n","      <td>163633936.41425</td>\n","      <td>169531715.51451</td>\n","      <td>175429494.61477</td>\n","    </tr>\n","    <tr>\n","      <th>136</th>\n","      <td>2021-05-01</td>\n","      <td>147994291.00000</td>\n","      <td>164752323.33648</td>\n","      <td>171619507.88725</td>\n","      <td>178486692.43803</td>\n","      <td>164752323.33648</td>\n","      <td>171619507.88725</td>\n","      <td>178486692.43803</td>\n","    </tr>\n","    <tr>\n","      <th>137</th>\n","      <td>2021-06-01</td>\n","      <td>181532407.00000</td>\n","      <td>163379366.22520</td>\n","      <td>171408218.02931</td>\n","      <td>179437069.83343</td>\n","      <td>163379366.22520</td>\n","      <td>171408218.02931</td>\n","      <td>179437069.83343</td>\n","    </tr>\n","    <tr>\n","      <th>138</th>\n","      <td>2021-07-01</td>\n","      <td>195763190.00000</td>\n","      <td>171704710.01245</td>\n","      <td>179771997.11824</td>\n","      <td>187839284.22402</td>\n","      <td>171704710.01245</td>\n","      <td>179771997.11824</td>\n","      <td>187839284.22402</td>\n","    </tr>\n","    <tr>\n","      <th>139</th>\n","      <td>2021-08-01</td>\n","      <td>188254733.00000</td>\n","      <td>167551880.91711</td>\n","      <td>175619793.61050</td>\n","      <td>183687706.30389</td>\n","      <td>167551880.91711</td>\n","      <td>175619793.61050</td>\n","      <td>183687706.30389</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>307</th>\n","      <td>2035-08-01</td>\n","      <td>NaN</td>\n","      <td>201905020.21157</td>\n","      <td>212832781.06525</td>\n","      <td>223760541.91894</td>\n","      <td>201905020.21157</td>\n","      <td>212832781.06525</td>\n","      <td>223760541.91894</td>\n","    </tr>\n","    <tr>\n","      <th>308</th>\n","      <td>2035-09-01</td>\n","      <td>NaN</td>\n","      <td>199838102.22059</td>\n","      <td>211356802.76886</td>\n","      <td>222875503.31712</td>\n","      <td>199838102.22059</td>\n","      <td>211356802.76886</td>\n","      <td>222875503.31712</td>\n","    </tr>\n","    <tr>\n","      <th>309</th>\n","      <td>2035-10-01</td>\n","      <td>NaN</td>\n","      <td>205831838.68668</td>\n","      <td>216526745.45649</td>\n","      <td>227221652.22629</td>\n","      <td>205831838.68668</td>\n","      <td>216526745.45649</td>\n","      <td>227221652.22629</td>\n","    </tr>\n","    <tr>\n","      <th>310</th>\n","      <td>2035-11-01</td>\n","      <td>NaN</td>\n","      <td>200211953.04440</td>\n","      <td>211300119.83905</td>\n","      <td>222388286.63371</td>\n","      <td>200211953.04440</td>\n","      <td>211300119.83905</td>\n","      <td>222388286.63371</td>\n","    </tr>\n","    <tr>\n","      <th>311</th>\n","      <td>2035-12-01</td>\n","      <td>NaN</td>\n","      <td>202523851.47803</td>\n","      <td>213907753.05587</td>\n","      <td>225291654.63370</td>\n","      <td>202523851.47803</td>\n","      <td>213907753.05587</td>\n","      <td>225291654.63370</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>177 rows × 8 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-4448bafb-57ad-402f-9eb5-4a9d6050b5ac')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-4448bafb-57ad-402f-9eb5-4a9d6050b5ac button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-4448bafb-57ad-402f-9eb5-4a9d6050b5ac');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":28}],"source":["valyproy = res_comb[2] # Para ver todos los ajustes\n","valyproy"]},{"cell_type":"markdown","metadata":{"id":"tIOG9w8Ce_7y"},"source":["### ***Gráficos*** Entrenamiento, Validación y Proyección"]},{"cell_type":"code","execution_count":27,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"executionInfo":{"elapsed":441,"status":"ok","timestamp":1656447618181,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"dboNl1are_sP","outputId":"cf052e5f-23f0-437d-c3dc-53e411438d9f"},"outputs":[{"output_type":"display_data","data":{"text/html":["<html>\n","<head><meta charset=\"utf-8\" /></head>\n","<body>\n","    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n","        <script src=\"https://cdn.plot.ly/plotly-2.8.3.min.js\"></script>                <div id=\"c865b570-4ef8-473a-9141-0d935b7159b1\" class=\"plotly-graph-div\" style=\"height:400px; width:700px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"c865b570-4ef8-473a-9141-0d935b7159b1\")) {                    Plotly.newPlot(                        \"c865b570-4ef8-473a-9141-0d935b7159b1\",                        [{\"line\":{\"color\":\"#1F77B4\",\"width\":4},\"name\":\"Serie<br>original\",\"x\":[\"2010-03-01T00:00:00\",\"2010-04-01T00:00:00\",\"2010-05-01T00:00:00\",\"2010-06-01T00:00:00\",\"2010-07-01T00:00:00\",\"2010-08-01T00:00:00\",\"2010-09-01T00:00:00\",\"2010-10-01T00:00:00\",\"2010-11-01T00:00:00\",\"2010-12-01T00:00:00\",\"2011-01-01T00:00:00\",\"2011-02-01T00:00:00\",\"2011-03-01T00:00:00\",\"2011-04-01T00:00:00\",\"2011-05-01T00:00:00\",\"2011-06-01T00:00:00\",\"2011-07-01T00:00:00\",\"2011-08-01T00:00:00\",\"2011-09-01T00:00:00\",\"2011-10-01T00:00:00\",\"2011-11-01T00:00:00\",\"2011-12-01T00:00:00\",\"2012-01-01T00:00:00\",\"2012-02-01T00:00:00\",\"2012-03-01T00:00:00\",\"2012-04-01T00:00:00\",\"2012-05-01T00:00:00\",\"2012-06-01T00:00:00\",\"2012-07-01T00:00:00\",\"2012-08-01T00:00:00\",\"2012-09-01T00:00:00\",\"2012-10-01T00:00:00\",\"2012-11-01T00:00:00\",\"2012-12-01T00:00:00\",\"2013-01-01T00:00:00\",\"2013-02-01T00:00:00\",\"2013-03-01T00:00:00\",\"2013-04-01T00:00:00\",\"2013-05-01T00:00:00\",\"2013-06-01T00:00:00\",\"2013-07-01T00:00:00\",\"2013-08-01T00:00:00\",\"2013-09-01T00:00:00\",\"2013-10-01T00:00:00\",\"2013-11-01T00:00:00\",\"2013-12-01T00:00:00\",\"2014-01-01T00:00:00\",\"2014-02-01T00:00:00\",\"2014-03-01T00:00:00\",\"2014-04-01T00:00:00\",\"2014-05-01T00:00:00\",\"2014-06-01T00:00:00\",\"2014-07-01T00:00:00\",\"2014-08-01T00:00:00\",\"2014-09-01T00:00:00\",\"2014-10-01T00:00:00\",\"2014-11-01T00:00:00\",\"2014-12-01T00:00:00\",\"2015-01-01T00:00:00\",\"2015-02-01T00:00:00\",\"2015-03-01T00:00:00\",\"2015-04-01T00:00:00\",\"2015-05-01T00:00:00\",\"2015-06-01T00:00:00\",\"2015-07-01T00:00:00\",\"2015-08-01T00:00:00\",\"2015-09-01T00:00:00\",\"2015-10-01T00:00:00\",\"2015-11-01T00:00:00\",\"2015-12-01T00:00:00\",\"2016-01-01T00:00:00\",\"2016-02-01T00:00:00\",\"2016-03-01T00:00:00\",\"2016-04-01T00:00:00\",\"2016-05-01T00:00:00\",\"2016-06-01T00:00:00\",\"2016-07-01T00:00:00\",\"2016-08-01T00:00:00\",\"2016-09-01T00:00:00\",\"2016-10-01T00:00:00\",\"2016-11-01T00:00:00\",\"2016-12-01T00:00:00\",\"2017-01-01T00:00:00\",\"2017-02-01T00:00:00\",\"2017-03-01T00:00:00\",\"2017-04-01T00:00:00\",\"2017-05-01T00:00:00\",\"2017-06-01T00:00:00\",\"2017-07-01T00:00:00\",\"2017-08-01T00:00:00\",\"2017-09-01T00:00:00\",\"2017-10-01T00:00:00\",\"2017-11-01T00:00:00\",\"2017-12-01T00:00:00\",\"2018-01-01T00:00:00\",\"2018-02-01T00:00:00\",\"2018-03-01T00:00:00\",\"2018-04-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-06-01T00:00:00\",\"2018-07-01T00:00:00\",\"2018-08-01T00:00:00\",\"2018-09-01T00:00:00\",\"2018-10-01T00:00:00\",\"2018-11-01T00:00:00\",\"2018-12-01T00:00:00\",\"2019-01-01T00:00:00\",\"2019-02-01T00:00:00\",\"2019-03-01T00:00:00\",\"2019-04-01T00:00:00\",\"2019-05-01T00:00:00\",\"2019-06-01T00:00:00\",\"2019-07-01T00:00:00\",\"2019-08-01T00:00:00\",\"2019-09-01T00:00:00\",\"2019-10-01T00:00:00\",\"2019-11-01T00:00:00\",\"2019-12-01T00:00:00\",\"2020-01-01T00:00:00\",\"2020-02-01T00:00:00\",\"2020-03-01T00:00:00\",\"2020-04-01T00:00:00\",\"2020-05-01T00:00:00\",\"2020-06-01T00:00:00\",\"2020-07-01T00:00:00\",\"2020-08-01T00:00:00\",\"2020-09-01T00:00:00\",\"2020-10-01T00:00:00\",\"2020-11-01T00:00:00\",\"2020-12-01T00:00:00\",\"2021-01-01T00:00:00\",\"2021-02-01T00:00:00\",\"2021-03-01T00:00:00\"],\"y\":[151263717.0,138540207.0,144829725.8,142121115.0,146972858.6,152774142.7,152623829.0,154392733.7,145541847.4,153736953.9,149398994.7,145296556.6,166673564.7,153194725.2,163093012.6,155735966.9,162615844.0,171479051.6,168610912.0,167816670.9,163789529.7,166535151.9,168164219.0,168488564.7,179307850.0,161208767.6,168755726.0,169726593.9,171187391.8,170284286.7,173006137.7,173595386.5,174813334.5,169807397.7,170147195.0,155278661.2,155114000.9,175205106.1,169247579.1,166634602.9,172517961.2,156099125.1,168385138.9,182466840.7,173774835.0,171905219.8,169746158.5,161952965.1,172491916.5,167343173.8,174144928.7,156760261.7,178806585.0,169601538.9,176739104.4,181546884.2,168830464.6,177087264.0,167873058.5,164579745.9,170769415.9,167929135.3,168909500.8,166862896.1,179769568.2,172004054.5,187580790.4,204770154.3,188825130.5,194163762.5,176684213.2,185772030.5,196007347.4,174342281.5,163342798.3,159876466.6,157231402.0,178024390.7,176113050.8,172493635.2,169339354.1,176255073.5,157724099.2,164625561.0,172279786.0,173102026.0,164923834.7,165439213.0,170744852.2,177161025.9,173041490.7,172604224.9,170319477.5,171285731.9,165366455.4,163891180.7,172540504.7,172975333.8,169702614.6,169817247.9,173140867.2,184174962.3,176865973.8,181616766.5,179045887.1,180374589.6,171488331.7,170184611.0,179207857.4,172965874.8,181705536.6,170036337.3,183011127.5,186591329.8,178381787.7,184017937.3,179008411.3,187221740.7,177090586.6,174198818.7,149801122.6,91136383.8,122738985.1,134829848.5,150864769.0,150370608.2,155665655.5,163903843.7,154082476.3,168933599.6,157942518.0,162321538.0,185434423.0],\"type\":\"scatter\"},{\"line\":{\"color\":\"#8C564B\",\"dash\":\"dot\",\"width\":4},\"name\":\"Pron\\u00f3stico<br>LSTM\",\"x\":[\"2010-03-01T00:00:00\",\"2010-04-01T00:00:00\",\"2010-05-01T00:00:00\",\"2010-06-01T00:00:00\",\"2010-07-01T00:00:00\",\"2010-08-01T00:00:00\",\"2010-09-01T00:00:00\",\"2010-10-01T00:00:00\",\"2010-11-01T00:00:00\",\"2010-12-01T00:00:00\",\"2011-01-01T00:00:00\",\"2011-02-01T00:00:00\",\"2011-03-01T00:00:00\",\"2011-04-01T00:00:00\",\"2011-05-01T00:00:00\",\"2011-06-01T00:00:00\",\"2011-07-01T00:00:00\",\"2011-08-01T00:00:00\",\"2011-09-01T00:00:00\",\"2011-10-01T00:00:00\",\"2011-11-01T00:00:00\",\"2011-12-01T00:00:00\",\"2012-01-01T00:00:00\",\"2012-02-01T00:00:00\",\"2012-03-01T00:00:00\",\"2012-04-01T00:00:00\",\"2012-05-01T00:00:00\",\"2012-06-01T00:00:00\",\"2012-07-01T00:00:00\",\"2012-08-01T00:00:00\",\"2012-09-01T00:00:00\",\"2012-10-01T00:00:00\",\"2012-11-01T00:00:00\",\"2012-12-01T00:00:00\",\"2013-01-01T00:00:00\",\"2013-02-01T00:00:00\",\"2013-03-01T00:00:00\",\"2013-04-01T00:00:00\",\"2013-05-01T00:00:00\",\"2013-06-01T00:00:00\",\"2013-07-01T00:00:00\",\"2013-08-01T00:00:00\",\"2013-09-01T00:00:00\",\"2013-10-01T00:00:00\",\"2013-11-01T00:00:00\",\"2013-12-01T00:00:00\",\"2014-01-01T00:00:00\",\"2014-02-01T00:00:00\",\"2014-03-01T00:00:00\",\"2014-04-01T00:00:00\",\"2014-05-01T00:00:00\",\"2014-06-01T00:00:00\",\"2014-07-01T00:00:00\",\"2014-08-01T00:00:00\",\"2014-09-01T00:00:00\",\"2014-10-01T00:00:00\",\"2014-11-01T00:00:00\",\"2014-12-01T00:00:00\",\"2015-01-01T00:00:00\",\"2015-02-01T00:00:00\",\"2015-03-01T00:00:00\",\"2015-04-01T00:00:00\",\"2015-05-01T00:00:00\",\"2015-06-01T00:00:00\",\"2015-07-01T00:00:00\",\"2015-08-01T00:00:00\",\"2015-09-01T00:00:00\",\"2015-10-01T00:00:00\",\"2015-11-01T00:00:00\",\"2015-12-01T00:00:00\",\"2016-01-01T00:00:00\",\"2016-02-01T00:00:00\",\"2016-03-01T00:00:00\",\"2016-04-01T00:00:00\",\"2016-05-01T00:00:00\",\"2016-06-01T00:00:00\",\"2016-07-01T00:00:00\",\"2016-08-01T00:00:00\",\"2016-09-01T00:00:00\",\"2016-10-01T00:00:00\",\"2016-11-01T00:00:00\",\"2016-12-01T00:00:00\",\"2017-01-01T00:00:00\",\"2017-02-01T00:00:00\",\"2017-03-01T00:00:00\",\"2017-04-01T00:00:00\",\"2017-05-01T00:00:00\",\"2017-06-01T00:00:00\",\"2017-07-01T00:00:00\",\"2017-08-01T00:00:00\",\"2017-09-01T00:00:00\",\"2017-10-01T00:00:00\",\"2017-11-01T00:00:00\",\"2017-12-01T00:00:00\",\"2018-01-01T00:00:00\",\"2018-02-01T00:00:00\",\"2018-03-01T00:00:00\",\"2018-04-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-06-01T00:00:00\",\"2018-07-01T00:00:00\",\"2018-08-01T00:00:00\",\"2018-09-01T00:00:00\",\"2018-10-01T00:00:00\",\"2018-11-01T00:00:00\",\"2018-12-01T00:00:00\",\"2019-01-01T00:00:00\",\"2019-02-01T00:00:00\",\"2019-03-01T00:00:00\",\"2019-04-01T00:00:00\",\"2019-05-01T00:00:00\",\"2019-06-01T00:00:00\",\"2019-07-01T00:00:00\",\"2019-08-01T00:00:00\",\"2019-09-01T00:00:00\",\"2019-10-01T00:00:00\",\"2019-11-01T00:00:00\",\"2019-12-01T00:00:00\",\"2020-01-01T00:00:00\",\"2020-02-01T00:00:00\",\"2020-03-01T00:00:00\",\"2020-04-01T00:00:00\",\"2020-05-01T00:00:00\",\"2020-06-01T00:00:00\",\"2020-07-01T00:00:00\",\"2020-08-01T00:00:00\",\"2020-09-01T00:00:00\",\"2020-10-01T00:00:00\",\"2020-11-01T00:00:00\",\"2020-12-01T00:00:00\",\"2021-01-01T00:00:00\",\"2021-02-01T00:00:00\",\"2021-03-01T00:00:00\"],\"y\":[156580061.51665777,148180148.47235206,151214545.77281985,150886760.25363392,157209765.55423948,157350090.64384928,160558464.99258444,161292322.50131515,158982528.89173564,160963508.78014672,151861861.0648708,152144872.71897325,163692160.99366856,154295178.2657309,163703746.15593275,158608203.1091886,162350835.72759277,170544739.2772537,168874073.00694156,170374878.8032239,166629609.76948002,167821570.80763844,160101521.48590618,160307357.73040012,172677674.6132303,158899542.06945688,165685411.51233214,163227458.8932763,167436752.09203938,173361884.65480664,169058042.0693464,176273594.48428732,170327732.16433468,171398757.06455305,167426485.137445,166463560.79876995,166461790.63418472,167466362.80261192,174119771.20620498,167374299.1789493,178793578.18997887,179544406.68088204,172793300.25741464,179694742.61616746,176452396.17262635,180917346.33318856,172334684.5101495,169381839.0687541,173338699.26504773,167174504.09189096,178968877.2122237,166341050.34424132,180612200.08915547,180039397.4272199,180329591.42996922,185018930.66640165,177479762.03481916,181546078.6634022,171658933.59550598,169147122.7773675,175997343.35237744,168686541.01752046,171042163.05831936,168079276.6407873,179281819.7130471,178639634.1319857,179920690.94339573,185151286.24907026,180564111.87335917,183683857.4709886,173053687.70159474,171349094.53216818,175802685.5089239,177793028.43809855,173325004.97051176,171052445.07814422,170226734.85897806,177610663.8227433,176696912.3964614,179620162.19251475,175236647.1354885,180073497.57648522,169287086.301445,164609731.45588538,175337169.88608396,162464615.88103932,171652199.43746683,167706608.03359666,170686585.95514527,177375420.24828875,177681673.78676453,178183217.90837538,174223299.4702877,174617910.58571997,168918507.9043385,166121534.87044194,170647454.01888874,169174857.86674124,173162737.37266034,169661472.3449141,173722531.20804825,180093767.84413996,178213725.00016344,184893188.71992806,178388737.7830285,179825930.64347136,173773323.63272154,170683452.38719863,177622821.46376696,169726855.44533888,178781322.62495688,170466445.27427962,179376625.20866302,183869702.15459228,181871133.60955772,187088539.30591846,180849605.52418855,184021921.24369177,177214945.41286832,174992371.95534164,177309570.1257181,134402825.6847187,129122021.73205322,130967391.94800496,145427956.83615425,147398714.9656625,151537032.09717298,156434162.29175833,150603812.62676117,176612547.10559073,166321571.00118852,167570071.84946078,178487196.59704375],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"scatter\":[{\"type\":\"scatter\"}]}},\"xaxis\":{\"anchor\":\"y\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"Fecha\"}},\"yaxis\":{\"anchor\":\"x\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"galones/mes\"}},\"legend\":{\"tracegroupgap\":0},\"margin\":{\"t\":60},\"height\":400,\"width\":700,\"title\":{\"text\":\"ACPM/Diesel Entrenamiento\"}},                        {\"responsive\": true}                    ).then(function(){\n","                            \n","var gd = document.getElementById('c865b570-4ef8-473a-9141-0d935b7159b1');\n","var x = new MutationObserver(function (mutations, observer) {{\n","        var display = window.getComputedStyle(gd).display;\n","        if (!display || display === 'none') {{\n","            console.log([gd, 'removed!']);\n","            Plotly.purge(gd);\n","            observer.disconnect();\n","        }}\n","}});\n","\n","// Listen for the removal of the full notebook cells\n","var notebookContainer = gd.closest('#notebook-container');\n","if (notebookContainer) {{\n","    x.observe(notebookContainer, {childList: true});\n","}}\n","\n","// Listen for the clearing of the current output cell\n","var outputEl = gd.closest('.output');\n","if (outputEl) {{\n","    x.observe(outputEl, {childList: true});\n","}}\n","\n","                        })                };                            </script>        </div>\n","</body>\n","</html>"]},"metadata":{}},{"output_type":"display_data","data":{"text/html":["<html>\n","<head><meta charset=\"utf-8\" /></head>\n","<body>\n","    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n","        <script src=\"https://cdn.plot.ly/plotly-2.8.3.min.js\"></script>                <div id=\"c4191773-a80b-4197-b28f-3a9a29023d7c\" class=\"plotly-graph-div\" style=\"height:400px; width:700px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"c4191773-a80b-4197-b28f-3a9a29023d7c\")) {                    Plotly.newPlot(                        \"c4191773-a80b-4197-b28f-3a9a29023d7c\",                        [{\"line\":{\"color\":\"#1F77B4\",\"width\":4},\"name\":\"Serie<br>original\",\"x\":[\"2021-04-01T00:00:00\",\"2021-05-01T00:00:00\",\"2021-06-01T00:00:00\",\"2021-07-01T00:00:00\",\"2021-08-01T00:00:00\",\"2021-09-01T00:00:00\",\"2021-10-01T00:00:00\",\"2021-11-01T00:00:00\",\"2021-12-01T00:00:00\",\"2022-01-01T00:00:00\",\"2022-02-01T00:00:00\",\"2022-03-01T00:00:00\"],\"y\":[173615056.0,147994291.0,181532407.0,195763190.0,188254733.0,196017303.0,193201846.0,205439730.0,195995028.0,189352686.0,192565678.0,217512697.0],\"type\":\"scatter\"},{\"line\":{\"color\":\"#8C564B\",\"dash\":\"dot\",\"width\":4},\"name\":\"Pron\\u00f3stico<br>LSTM\",\"x\":[\"2021-04-01T00:00:00\",\"2021-05-01T00:00:00\",\"2021-06-01T00:00:00\",\"2021-07-01T00:00:00\",\"2021-08-01T00:00:00\",\"2021-09-01T00:00:00\",\"2021-10-01T00:00:00\",\"2021-11-01T00:00:00\",\"2021-12-01T00:00:00\",\"2022-01-01T00:00:00\",\"2022-02-01T00:00:00\",\"2022-03-01T00:00:00\"],\"y\":[169531715.5145089,171619507.88725445,171408218.02931497,179771997.11823618,175619793.6105007,182769141.8699539,183982842.03574204,182434565.69811442,186900065.73959032,175437903.54990658,174724504.62421203,187952492.61274087],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"scatter\":[{\"type\":\"scatter\"}]}},\"xaxis\":{\"anchor\":\"y\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"Fecha\"}},\"yaxis\":{\"anchor\":\"x\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"galones/mes\"}},\"legend\":{\"tracegroupgap\":0},\"margin\":{\"t\":60},\"height\":400,\"width\":700,\"title\":{\"text\":\"ACPM/Diesel Validaci\\u00f3n\"}},                        {\"responsive\": true}                    ).then(function(){\n","                            \n","var gd = document.getElementById('c4191773-a80b-4197-b28f-3a9a29023d7c');\n","var x = new MutationObserver(function (mutations, observer) {{\n","        var display = window.getComputedStyle(gd).display;\n","        if (!display || display === 'none') {{\n","            console.log([gd, 'removed!']);\n","            Plotly.purge(gd);\n","            observer.disconnect();\n","        }}\n","}});\n","\n","// Listen for the removal of the full notebook cells\n","var notebookContainer = gd.closest('#notebook-container');\n","if (notebookContainer) {{\n","    x.observe(notebookContainer, {childList: true});\n","}}\n","\n","// Listen for the clearing of the current output cell\n","var outputEl = gd.closest('.output');\n","if (outputEl) {{\n","    x.observe(outputEl, {childList: true});\n","}}\n","\n","                        })                };                            </script>        </div>\n","</body>\n","</html>"]},"metadata":{}},{"output_type":"display_data","data":{"text/html":["<html>\n","<head><meta charset=\"utf-8\" /></head>\n","<body>\n","    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n","        <script src=\"https://cdn.plot.ly/plotly-2.8.3.min.js\"></script>                <div id=\"91d4b8aa-2033-4204-8fe9-82575ba9b6df\" class=\"plotly-graph-div\" style=\"height:400px; width:700px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"91d4b8aa-2033-4204-8fe9-82575ba9b6df\")) {                    Plotly.newPlot(                        \"91d4b8aa-2033-4204-8fe9-82575ba9b6df\",                        [{\"line\":{\"color\":\"#1F77B4\",\"width\":4},\"name\":\"Proyecci\\u00f3n\",\"x\":[\"2022-04-01T00:00:00\",\"2022-05-01T00:00:00\",\"2022-06-01T00:00:00\",\"2022-07-01T00:00:00\",\"2022-08-01T00:00:00\",\"2022-09-01T00:00:00\",\"2022-10-01T00:00:00\",\"2022-11-01T00:00:00\",\"2022-12-01T00:00:00\",\"2023-01-01T00:00:00\",\"2023-02-01T00:00:00\",\"2023-03-01T00:00:00\",\"2023-04-01T00:00:00\",\"2023-05-01T00:00:00\",\"2023-06-01T00:00:00\",\"2023-07-01T00:00:00\",\"2023-08-01T00:00:00\",\"2023-09-01T00:00:00\",\"2023-10-01T00:00:00\",\"2023-11-01T00:00:00\",\"2023-12-01T00:00:00\",\"2024-01-01T00:00:00\",\"2024-02-01T00:00:00\",\"2024-03-01T00:00:00\",\"2024-04-01T00:00:00\",\"2024-05-01T00:00:00\",\"2024-06-01T00:00:00\",\"2024-07-01T00:00:00\",\"2024-08-01T00:00:00\",\"2024-09-01T00:00:00\",\"2024-10-01T00:00:00\",\"2024-11-01T00:00:00\",\"2024-12-01T00:00:00\",\"2025-01-01T00:00:00\",\"2025-02-01T00:00:00\",\"2025-03-01T00:00:00\",\"2025-04-01T00:00:00\",\"2025-05-01T00:00:00\",\"2025-06-01T00:00:00\",\"2025-07-01T00:00:00\",\"2025-08-01T00:00:00\",\"2025-09-01T00:00:00\",\"2025-10-01T00:00:00\",\"2025-11-01T00:00:00\",\"2025-12-01T00:00:00\",\"2026-01-01T00:00:00\",\"2026-02-01T00:00:00\",\"2026-03-01T00:00:00\",\"2026-04-01T00:00:00\",\"2026-05-01T00:00:00\",\"2026-06-01T00:00:00\",\"2026-07-01T00:00:00\",\"2026-08-01T00:00:00\",\"2026-09-01T00:00:00\",\"2026-10-01T00:00:00\",\"2026-11-01T00:00:00\",\"2026-12-01T00:00:00\",\"2027-01-01T00:00:00\",\"2027-02-01T00:00:00\",\"2027-03-01T00:00:00\",\"2027-04-01T00:00:00\",\"2027-05-01T00:00:00\",\"2027-06-01T00:00:00\",\"2027-07-01T00:00:00\",\"2027-08-01T00:00:00\",\"2027-09-01T00:00:00\",\"2027-10-01T00:00:00\",\"2027-11-01T00:00:00\",\"2027-12-01T00:00:00\",\"2028-01-01T00:00:00\",\"2028-02-01T00:00:00\",\"2028-03-01T00:00:00\",\"2028-04-01T00:00:00\",\"2028-05-01T00:00:00\",\"2028-06-01T00:00:00\",\"2028-07-01T00:00:00\",\"2028-08-01T00:00:00\",\"2028-09-01T00:00:00\",\"2028-10-01T00:00:00\",\"2028-11-01T00:00:00\",\"2028-12-01T00:00:00\",\"2029-01-01T00:00:00\",\"2029-02-01T00:00:00\",\"2029-03-01T00:00:00\",\"2029-04-01T00:00:00\",\"2029-05-01T00:00:00\",\"2029-06-01T00:00:00\",\"2029-07-01T00:00:00\",\"2029-08-01T00:00:00\",\"2029-09-01T00:00:00\",\"2029-10-01T00:00:00\",\"2029-11-01T00:00:00\",\"2029-12-01T00:00:00\",\"2030-01-01T00:00:00\",\"2030-02-01T00:00:00\",\"2030-03-01T00:00:00\",\"2030-04-01T00:00:00\",\"2030-05-01T00:00:00\",\"2030-06-01T00:00:00\",\"2030-07-01T00:00:00\",\"2030-08-01T00:00:00\",\"2030-09-01T00:00:00\",\"2030-10-01T00:00:00\",\"2030-11-01T00:00:00\",\"2030-12-01T00:00:00\",\"2031-01-01T00:00:00\",\"2031-02-01T00:00:00\",\"2031-03-01T00:00:00\",\"2031-04-01T00:00:00\",\"2031-05-01T00:00:00\",\"2031-06-01T00:00:00\",\"2031-07-01T00:00:00\",\"2031-08-01T00:00:00\",\"2031-09-01T00:00:00\",\"2031-10-01T00:00:00\",\"2031-11-01T00:00:00\",\"2031-12-01T00:00:00\",\"2032-01-01T00:00:00\",\"2032-02-01T00:00:00\",\"2032-03-01T00:00:00\",\"2032-04-01T00:00:00\",\"2032-05-01T00:00:00\",\"2032-06-01T00:00:00\",\"2032-07-01T00:00:00\",\"2032-08-01T00:00:00\",\"2032-09-01T00:00:00\",\"2032-10-01T00:00:00\",\"2032-11-01T00:00:00\",\"2032-12-01T00:00:00\",\"2033-01-01T00:00:00\",\"2033-02-01T00:00:00\",\"2033-03-01T00:00:00\",\"2033-04-01T00:00:00\",\"2033-05-01T00:00:00\",\"2033-06-01T00:00:00\",\"2033-07-01T00:00:00\",\"2033-08-01T00:00:00\",\"2033-09-01T00:00:00\",\"2033-10-01T00:00:00\",\"2033-11-01T00:00:00\",\"2033-12-01T00:00:00\",\"2034-01-01T00:00:00\",\"2034-02-01T00:00:00\",\"2034-03-01T00:00:00\",\"2034-04-01T00:00:00\",\"2034-05-01T00:00:00\",\"2034-06-01T00:00:00\",\"2034-07-01T00:00:00\",\"2034-08-01T00:00:00\",\"2034-09-01T00:00:00\",\"2034-10-01T00:00:00\",\"2034-11-01T00:00:00\",\"2034-12-01T00:00:00\",\"2035-01-01T00:00:00\",\"2035-02-01T00:00:00\",\"2035-03-01T00:00:00\",\"2035-04-01T00:00:00\",\"2035-05-01T00:00:00\",\"2035-06-01T00:00:00\",\"2035-07-01T00:00:00\",\"2035-08-01T00:00:00\",\"2035-09-01T00:00:00\",\"2035-10-01T00:00:00\",\"2035-11-01T00:00:00\",\"2035-12-01T00:00:00\"],\"y\":[171843738.77820426,175779146.08624792,177632365.2872967,181787122.3516041,190366673.2045423,188888329.66695425,189150728.3194078,186838079.84864616,189928802.27969304,177765248.1530333,176669478.61169794,187239297.06765822,170486813.46593267,179842547.59272677,179705341.0058331,184079621.0765551,194903476.98203444,186263838.45719665,190757774.12126514,188303135.85292208,189125591.98229748,181990518.02875498,179173485.64043084,177716399.14309612,181311678.74185637,182321290.22989002,180152220.93852893,188284198.8581677,192178161.71707115,190497228.49216464,195340511.78659025,190839020.9094197,191772560.51597992,184049678.93091127,180778542.83186054,188566536.3432047,176908782.26577562,186715991.2205719,176238002.87720126,192054242.6634896,191093028.22847772,194616032.38385367,197323307.0352781,190508226.11043885,196004820.65865946,186268410.75465724,183136786.2227686,190527381.55103567,178906921.45174056,183325930.19185454,185629644.9809222,192259747.47291222,193595227.42954913,196736538.90465736,199718415.04525056,192594624.94936198,198426985.82263258,185728721.46938843,184846750.1468729,183649681.99557072,187391757.20044592,182681635.47852138,190276440.00638697,194361580.64049554,196063447.0031993,198808339.53521374,199389819.76992455,196660971.70840606,200566497.13172793,187829078.2443815,187111212.47783995,197006711.21605542,180508927.93399146,189893060.02030185,189616198.7465562,194111234.1724521,199954991.89260545,200845798.97281662,201607391.57092106,198650501.11513305,200176239.86791378,192067447.3380339,188856067.47581148,193545775.81039146,187091409.2323311,192106850.44843966,192053655.1194996,196102179.71084726,201892237.4168384,200363357.56349578,205469506.5325208,200547650.52835664,202377330.30672947,193994252.6575216,190791346.98746252,198157536.64229912,186817252.16746247,196523215.24059868,188904404.26791123,199833520.93898222,203573200.77220592,202460761.55330837,207451684.10675764,202468429.75563928,204437056.15503,195930895.57253402,192745555.96125266,200007433.9600199,188790963.0821512,195807466.13894415,190417894.9882852,203490658.3742273,203138275.09992185,206526204.3985217,209521240.01796764,202113470.32691622,208510521.2354913,197919084.1737454,192623467.3331784,195971692.2167622,197247227.6211894,192668196.00257036,199666274.28244638,203685097.7718384,205276038.84227777,208013745.2593377,208885411.96418256,205919550.1636243,210522264.32460913,197384630.05607972,196326297.61256823,205700245.60305208,192928274.60952497,196848970.71997303,198875131.23469144,202950087.77297348,208954147.07839638,209918781.32073465,210995169.4430155,207805611.5671906,212510550.84981883,199296196.8949039,198243378.32576004,207487622.21414548,192076719.98741442,200954298.7629685,200840616.53352028,205040433.70229092,210796150.21532854,211744318.1607165,212856019.18331894,209599127.25971788,211886428.48014203,203069570.11616907,199954773.44676304,204189587.14601448,200994688.64597285,200783308.39665028,205091625.3555728,207024193.12573156,212832781.06525323,211356802.76885566,216526745.45648637,211300119.83905193,213907753.0558659],\"type\":\"scatter\"},{\"line\":{\"color\":\"#FF7F0E\",\"dash\":\"dot\",\"width\":4},\"name\":\"Lim_Inf\",\"x\":[\"2022-04-01T00:00:00\",\"2022-05-01T00:00:00\",\"2022-06-01T00:00:00\",\"2022-07-01T00:00:00\",\"2022-08-01T00:00:00\",\"2022-09-01T00:00:00\",\"2022-10-01T00:00:00\",\"2022-11-01T00:00:00\",\"2022-12-01T00:00:00\",\"2023-01-01T00:00:00\",\"2023-02-01T00:00:00\",\"2023-03-01T00:00:00\",\"2023-04-01T00:00:00\",\"2023-05-01T00:00:00\",\"2023-06-01T00:00:00\",\"2023-07-01T00:00:00\",\"2023-08-01T00:00:00\",\"2023-09-01T00:00:00\",\"2023-10-01T00:00:00\",\"2023-11-01T00:00:00\",\"2023-12-01T00:00:00\",\"2024-01-01T00:00:00\",\"2024-02-01T00:00:00\",\"2024-03-01T00:00:00\",\"2024-04-01T00:00:00\",\"2024-05-01T00:00:00\",\"2024-06-01T00:00:00\",\"2024-07-01T00:00:00\",\"2024-08-01T00:00:00\",\"2024-09-01T00:00:00\",\"2024-10-01T00:00:00\",\"2024-11-01T00:00:00\",\"2024-12-01T00:00:00\",\"2025-01-01T00:00:00\",\"2025-02-01T00:00:00\",\"2025-03-01T00:00:00\",\"2025-04-01T00:00:00\",\"2025-05-01T00:00:00\",\"2025-06-01T00:00:00\",\"2025-07-01T00:00:00\",\"2025-08-01T00:00:00\",\"2025-09-01T00:00:00\",\"2025-10-01T00:00:00\",\"2025-11-01T00:00:00\",\"2025-12-01T00:00:00\",\"2026-01-01T00:00:00\",\"2026-02-01T00:00:00\",\"2026-03-01T00:00:00\",\"2026-04-01T00:00:00\",\"2026-05-01T00:00:00\",\"2026-06-01T00:00:00\",\"2026-07-01T00:00:00\",\"2026-08-01T00:00:00\",\"2026-09-01T00:00:00\",\"2026-10-01T00:00:00\",\"2026-11-01T00:00:00\",\"2026-12-01T00:00:00\",\"2027-01-01T00:00:00\",\"2027-02-01T00:00:00\",\"2027-03-01T00:00:00\",\"2027-04-01T00:00:00\",\"2027-05-01T00:00:00\",\"2027-06-01T00:00:00\",\"2027-07-01T00:00:00\",\"2027-08-01T00:00:00\",\"2027-09-01T00:00:00\",\"2027-10-01T00:00:00\",\"2027-11-01T00:00:00\",\"2027-12-01T00:00:00\",\"2028-01-01T00:00:00\",\"2028-02-01T00:00:00\",\"2028-03-01T00:00:00\",\"2028-04-01T00:00:00\",\"2028-05-01T00:00:00\",\"2028-06-01T00:00:00\",\"2028-07-01T00:00:00\",\"2028-08-01T00:00:00\",\"2028-09-01T00:00:00\",\"2028-10-01T00:00:00\",\"2028-11-01T00:00:00\",\"2028-12-01T00:00:00\",\"2029-01-01T00:00:00\",\"2029-02-01T00:00:00\",\"2029-03-01T00:00:00\",\"2029-04-01T00:00:00\",\"2029-05-01T00:00:00\",\"2029-06-01T00:00:00\",\"2029-07-01T00:00:00\",\"2029-08-01T00:00:00\",\"2029-09-01T00:00:00\",\"2029-10-01T00:00:00\",\"2029-11-01T00:00:00\",\"2029-12-01T00:00:00\",\"2030-01-01T00:00:00\",\"2030-02-01T00:00:00\",\"2030-03-01T00:00:00\",\"2030-04-01T00:00:00\",\"2030-05-01T00:00:00\",\"2030-06-01T00:00:00\",\"2030-07-01T00:00:00\",\"2030-08-01T00:00:00\",\"2030-09-01T00:00:00\",\"2030-10-01T00:00:00\",\"2030-11-01T00:00:00\",\"2030-12-01T00:00:00\",\"2031-01-01T00:00:00\",\"2031-02-01T00:00:00\",\"2031-03-01T00:00:00\",\"2031-04-01T00:00:00\",\"2031-05-01T00:00:00\",\"2031-06-01T00:00:00\",\"2031-07-01T00:00:00\",\"2031-08-01T00:00:00\",\"2031-09-01T00:00:00\",\"2031-10-01T00:00:00\",\"2031-11-01T00:00:00\",\"2031-12-01T00:00:00\",\"2032-01-01T00:00:00\",\"2032-02-01T00:00:00\",\"2032-03-01T00:00:00\",\"2032-04-01T00:00:00\",\"2032-05-01T00:00:00\",\"2032-06-01T00:00:00\",\"2032-07-01T00:00:00\",\"2032-08-01T00:00:00\",\"2032-09-01T00:00:00\",\"2032-10-01T00:00:00\",\"2032-11-01T00:00:00\",\"2032-12-01T00:00:00\",\"2033-01-01T00:00:00\",\"2033-02-01T00:00:00\",\"2033-03-01T00:00:00\",\"2033-04-01T00:00:00\",\"2033-05-01T00:00:00\",\"2033-06-01T00:00:00\",\"2033-07-01T00:00:00\",\"2033-08-01T00:00:00\",\"2033-09-01T00:00:00\",\"2033-10-01T00:00:00\",\"2033-11-01T00:00:00\",\"2033-12-01T00:00:00\",\"2034-01-01T00:00:00\",\"2034-02-01T00:00:00\",\"2034-03-01T00:00:00\",\"2034-04-01T00:00:00\",\"2034-05-01T00:00:00\",\"2034-06-01T00:00:00\",\"2034-07-01T00:00:00\",\"2034-08-01T00:00:00\",\"2034-09-01T00:00:00\",\"2034-10-01T00:00:00\",\"2034-11-01T00:00:00\",\"2034-12-01T00:00:00\",\"2035-01-01T00:00:00\",\"2035-02-01T00:00:00\",\"2035-03-01T00:00:00\",\"2035-04-01T00:00:00\",\"2035-05-01T00:00:00\",\"2035-06-01T00:00:00\",\"2035-07-01T00:00:00\",\"2035-08-01T00:00:00\",\"2035-09-01T00:00:00\",\"2035-10-01T00:00:00\",\"2035-11-01T00:00:00\",\"2035-12-01T00:00:00\"],\"y\":[163215041.00889388,167242199.60911244,168681615.72827297,173054889.66414693,181896585.50411466,180048348.1182593,180753072.2207074,178254272.04099736,181258353.7903028,169759557.63897526,168063967.50062665,178164556.06189406,161592693.30420122,171118299.01222986,170551826.17274687,175143457.09094346,186209845.1107374,177213414.17182398,182177982.16442382,179552806.2461495,180257528.28873834,173789672.11807853,170355077.30833158,168346443.32287213,172246267.70647475,173403836.78500697,170755622.94554824,179177393.03947234,183341855.78986505,181232265.53172576,186590212.10722032,181884532.1041926,182672102.98034832,175629768.1429799,171737220.7267751,179127465.72834176,167601397.52207828,177552621.44066107,166639718.52689326,182759961.35420468,182082157.06704834,185138859.5729182,188416101.1082982,181326874.0487864,186678864.28651667,177633895.7235857,173848578.35874963,180902624.11447775,169363797.10740608,173934635.7359409,175764338.86704937,182746652.34253937,184351717.02874333,187039362.49440995,190616862.2902911,183206461.69893548,188873970.57348797,176850576.42715624,175323481.6405784,173685958.21426386,177637869.00357273,173064954.08877045,180120268.8183071,184661939.1821901,186610493.6522403,188896235.11997643,190106425.02246472,187101316.31005174,190817024.7051307,178735186.69238645,177359014.5035626,187029993.14976576,170445003.77655417,180069391.98020896,179295753.80704784,184135769.30610728,190315116.67808682,190727311.8653174,192139183.9995793,188890157.7337835,190201381.79318666,182770336.11546808,178888923.32993272,183335171.67395574,176878387.00456598,182078210.6179873,181487949.39667156,185931007.03271383,192056450.0970356,190026464.92106298,195815918.35290933,190601866.05167365,192187854.20600158,184485599.30449763,180597775.08883962,187803379.115888,176341067.4045604,186278237.28394344,178128524.74875528,189495379.24691525,193565335.68949822,191916737.01076424,197622162.73186174,192326800.11117393,194040101.28805086,186211318.67592174,182329684.97391096,189477793.67940888,178086765.36018825,185344287.7629933,179405764.97513875,193004287.59701172,192931558.06339905,195790033.0728623,199528200.62690717,191739879.67755404,197914246.48914546,187999827.93930405,181967218.61891958,185144372.7314468,186390409.4201877,181966264.84493446,188420821.8280079,193018891.3686078,194869929.3251296,197083368.36415857,198712758.5864387,195385889.30648082,199747043.49240407,187235748.77647114,185461988.92337114,194854212.229287,181799485.33506852,185947480.61318153,187447228.66953713,192020770.4463672,198375505.58207947,198799444.58986375,200646024.79907456,197082886.32837427,201540277.0869746,188944734.6980586,187165487.87430298,196475068.67760584,180653679.2269344,189864598.27047935,189216542.16659117,193931686.3316987,200041978.19777298,200433841.74200526,202335801.80822286,198690306.82539532,200694680.93541518,192537228.42950797,188679316.42635816,192929102.85359392,189500582.9376204,189500504.88024837,193245647.0683816,195762585.79970795,201905020.2115667,199838102.22059333,205831838.68668085,200211953.04439545,202523851.4780287],\"type\":\"scatter\"},{\"line\":{\"color\":\"#D62728\",\"dash\":\"dot\",\"width\":4},\"name\":\"Lim_Sup\",\"x\":[\"2022-04-01T00:00:00\",\"2022-05-01T00:00:00\",\"2022-06-01T00:00:00\",\"2022-07-01T00:00:00\",\"2022-08-01T00:00:00\",\"2022-09-01T00:00:00\",\"2022-10-01T00:00:00\",\"2022-11-01T00:00:00\",\"2022-12-01T00:00:00\",\"2023-01-01T00:00:00\",\"2023-02-01T00:00:00\",\"2023-03-01T00:00:00\",\"2023-04-01T00:00:00\",\"2023-05-01T00:00:00\",\"2023-06-01T00:00:00\",\"2023-07-01T00:00:00\",\"2023-08-01T00:00:00\",\"2023-09-01T00:00:00\",\"2023-10-01T00:00:00\",\"2023-11-01T00:00:00\",\"2023-12-01T00:00:00\",\"2024-01-01T00:00:00\",\"2024-02-01T00:00:00\",\"2024-03-01T00:00:00\",\"2024-04-01T00:00:00\",\"2024-05-01T00:00:00\",\"2024-06-01T00:00:00\",\"2024-07-01T00:00:00\",\"2024-08-01T00:00:00\",\"2024-09-01T00:00:00\",\"2024-10-01T00:00:00\",\"2024-11-01T00:00:00\",\"2024-12-01T00:00:00\",\"2025-01-01T00:00:00\",\"2025-02-01T00:00:00\",\"2025-03-01T00:00:00\",\"2025-04-01T00:00:00\",\"2025-05-01T00:00:00\",\"2025-06-01T00:00:00\",\"2025-07-01T00:00:00\",\"2025-08-01T00:00:00\",\"2025-09-01T00:00:00\",\"2025-10-01T00:00:00\",\"2025-11-01T00:00:00\",\"2025-12-01T00:00:00\",\"2026-01-01T00:00:00\",\"2026-02-01T00:00:00\",\"2026-03-01T00:00:00\",\"2026-04-01T00:00:00\",\"2026-05-01T00:00:00\",\"2026-06-01T00:00:00\",\"2026-07-01T00:00:00\",\"2026-08-01T00:00:00\",\"2026-09-01T00:00:00\",\"2026-10-01T00:00:00\",\"2026-11-01T00:00:00\",\"2026-12-01T00:00:00\",\"2027-01-01T00:00:00\",\"2027-02-01T00:00:00\",\"2027-03-01T00:00:00\",\"2027-04-01T00:00:00\",\"2027-05-01T00:00:00\",\"2027-06-01T00:00:00\",\"2027-07-01T00:00:00\",\"2027-08-01T00:00:00\",\"2027-09-01T00:00:00\",\"2027-10-01T00:00:00\",\"2027-11-01T00:00:00\",\"2027-12-01T00:00:00\",\"2028-01-01T00:00:00\",\"2028-02-01T00:00:00\",\"2028-03-01T00:00:00\",\"2028-04-01T00:00:00\",\"2028-05-01T00:00:00\",\"2028-06-01T00:00:00\",\"2028-07-01T00:00:00\",\"2028-08-01T00:00:00\",\"2028-09-01T00:00:00\",\"2028-10-01T00:00:00\",\"2028-11-01T00:00:00\",\"2028-12-01T00:00:00\",\"2029-01-01T00:00:00\",\"2029-02-01T00:00:00\",\"2029-03-01T00:00:00\",\"2029-04-01T00:00:00\",\"2029-05-01T00:00:00\",\"2029-06-01T00:00:00\",\"2029-07-01T00:00:00\",\"2029-08-01T00:00:00\",\"2029-09-01T00:00:00\",\"2029-10-01T00:00:00\",\"2029-11-01T00:00:00\",\"2029-12-01T00:00:00\",\"2030-01-01T00:00:00\",\"2030-02-01T00:00:00\",\"2030-03-01T00:00:00\",\"2030-04-01T00:00:00\",\"2030-05-01T00:00:00\",\"2030-06-01T00:00:00\",\"2030-07-01T00:00:00\",\"2030-08-01T00:00:00\",\"2030-09-01T00:00:00\",\"2030-10-01T00:00:00\",\"2030-11-01T00:00:00\",\"2030-12-01T00:00:00\",\"2031-01-01T00:00:00\",\"2031-02-01T00:00:00\",\"2031-03-01T00:00:00\",\"2031-04-01T00:00:00\",\"2031-05-01T00:00:00\",\"2031-06-01T00:00:00\",\"2031-07-01T00:00:00\",\"2031-08-01T00:00:00\",\"2031-09-01T00:00:00\",\"2031-10-01T00:00:00\",\"2031-11-01T00:00:00\",\"2031-12-01T00:00:00\",\"2032-01-01T00:00:00\",\"2032-02-01T00:00:00\",\"2032-03-01T00:00:00\",\"2032-04-01T00:00:00\",\"2032-05-01T00:00:00\",\"2032-06-01T00:00:00\",\"2032-07-01T00:00:00\",\"2032-08-01T00:00:00\",\"2032-09-01T00:00:00\",\"2032-10-01T00:00:00\",\"2032-11-01T00:00:00\",\"2032-12-01T00:00:00\",\"2033-01-01T00:00:00\",\"2033-02-01T00:00:00\",\"2033-03-01T00:00:00\",\"2033-04-01T00:00:00\",\"2033-05-01T00:00:00\",\"2033-06-01T00:00:00\",\"2033-07-01T00:00:00\",\"2033-08-01T00:00:00\",\"2033-09-01T00:00:00\",\"2033-10-01T00:00:00\",\"2033-11-01T00:00:00\",\"2033-12-01T00:00:00\",\"2034-01-01T00:00:00\",\"2034-02-01T00:00:00\",\"2034-03-01T00:00:00\",\"2034-04-01T00:00:00\",\"2034-05-01T00:00:00\",\"2034-06-01T00:00:00\",\"2034-07-01T00:00:00\",\"2034-08-01T00:00:00\",\"2034-09-01T00:00:00\",\"2034-10-01T00:00:00\",\"2034-11-01T00:00:00\",\"2034-12-01T00:00:00\",\"2035-01-01T00:00:00\",\"2035-02-01T00:00:00\",\"2035-03-01T00:00:00\",\"2035-04-01T00:00:00\",\"2035-05-01T00:00:00\",\"2035-06-01T00:00:00\",\"2035-07-01T00:00:00\",\"2035-08-01T00:00:00\",\"2035-09-01T00:00:00\",\"2035-10-01T00:00:00\",\"2035-11-01T00:00:00\",\"2035-12-01T00:00:00\"],\"y\":[180472436.54751465,184316092.5633834,186583114.84632045,190519355.03906128,198836760.90496996,197728311.2156492,197548384.4181082,195421887.65629497,198599250.76908326,185770938.6670913,185274989.72276923,196314038.07342237,179380933.62766412,188566796.17322367,188858855.8389193,193015785.06216675,203597108.85333148,195314262.74256933,199337566.07810646,197053465.45969465,197993655.67585662,190191363.93943143,187991893.9725301,187086354.9633201,190377089.77723798,191238743.67477307,189548818.9315096,197391004.67686307,201014467.64427724,199762191.45260352,204090811.46596017,199793509.71464676,200873018.0516115,192469589.71884266,189819864.93694597,198005606.95806766,186216167.00947297,195879361.00048274,185836287.22750926,201348523.97277454,200103899.3899071,204093205.19478914,206230512.962258,199689578.1720913,205330777.03080225,194902925.78572878,192424994.08678758,200152138.9875936,188450045.79607505,192717224.64776817,195494951.09479502,201772842.60328507,202838737.83035493,206433715.31490478,208819967.80021003,201982788.19978848,207980001.0717772,194606866.5116206,194370018.65316743,193613405.77687758,197145645.3973191,192298316.8682723,200432611.19446683,204061222.098801,205516400.3541583,208720443.95045105,208673214.51738438,206220627.10676038,210315969.55832517,196922969.79637653,196863410.4521173,206983429.2823451,190572852.09142876,199716728.06039473,199936643.68606454,204086699.0387969,209594867.1071241,210964286.08031583,211075599.14226282,208410844.49648258,210151097.9426409,201364558.56059974,198823211.62169024,203756379.94682717,197304431.4600962,202135490.278892,202619360.84232762,206273352.3889807,211728024.73664123,210700250.2059286,215123094.71213228,210493435.00503963,212566806.40745735,203502906.01054558,200984918.88608542,208511694.16871023,197293436.93036455,206768193.1972539,199680283.78706717,210171662.6310492,213581065.85491362,213004786.0958525,217281205.48165354,212610059.40010464,214834011.02200916,205650472.4691463,203161426.94859436,210537074.2406309,199495160.80411416,206270644.514895,201430025.00143167,213977029.15144286,213344992.13644466,217262375.7241811,219514279.4090281,212487060.9762784,219106795.98183715,207838340.40818673,203279716.04743722,206799011.70207763,208104045.82219106,203370127.16020626,210911726.73688486,214351304.175069,215682148.35942593,218944122.15451682,219058065.34192643,216453211.02076775,221297485.1568142,207533511.3356883,207190606.30176532,216546278.97681716,204057063.8839814,207750460.82676452,210303033.79984576,213879405.09957975,219532788.5747133,221038118.05160555,221344314.0869564,218528336.8060069,223480824.61266306,209647659.0917492,209321268.7772171,218500175.75068513,203499760.74789444,212043999.25545767,212464690.9004494,216149181.07288316,221550322.2328841,223054794.57942775,223376236.55841503,220507947.69404045,223078176.02486888,213601911.80283016,211230230.4671679,215450071.43843505,212488794.3543253,212066111.9130522,216937603.64276397,218285800.45175517,223760541.91893977,222875503.317118,227221652.2262919,222388286.63370842,225291654.6337031],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"scatter\":[{\"type\":\"scatter\"}]}},\"xaxis\":{\"anchor\":\"y\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"Fecha\"}},\"yaxis\":{\"anchor\":\"x\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"galones/mes\"}},\"legend\":{\"tracegroupgap\":0},\"margin\":{\"t\":60},\"height\":400,\"width\":700,\"title\":{\"text\":\"ACPM/Diesel Proyecciones LSTM\"}},                        {\"responsive\": true}                    ).then(function(){\n","                            \n","var gd = document.getElementById('91d4b8aa-2033-4204-8fe9-82575ba9b6df');\n","var x = new MutationObserver(function (mutations, observer) {{\n","        var display = window.getComputedStyle(gd).display;\n","        if (!display || display === 'none') {{\n","            console.log([gd, 'removed!']);\n","            Plotly.purge(gd);\n","            observer.disconnect();\n","        }}\n","}});\n","\n","// Listen for the removal of the full notebook cells\n","var notebookContainer = gd.closest('#notebook-container');\n","if (notebookContainer) {{\n","    x.observe(notebookContainer, {childList: true});\n","}}\n","\n","// Listen for the clearing of the current output cell\n","var outputEl = gd.closest('.output');\n","if (outputEl) {{\n","    x.observe(outputEl, {childList: true});\n","}}\n","\n","                        })                };                            </script>        </div>\n","</body>\n","</html>"]},"metadata":{}},{"output_type":"display_data","data":{"text/html":["<html>\n","<head><meta charset=\"utf-8\" /></head>\n","<body>\n","    <div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n","        <script src=\"https://cdn.plot.ly/plotly-2.8.3.min.js\"></script>                <div id=\"a992f317-fa95-40d6-939c-1a5806778411\" class=\"plotly-graph-div\" style=\"height:400px; width:700px;\"></div>            <script type=\"text/javascript\">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"a992f317-fa95-40d6-939c-1a5806778411\")) {                    Plotly.newPlot(                        \"a992f317-fa95-40d6-939c-1a5806778411\",                        [{\"line\":{\"color\":\"#1F77B4\",\"width\":4},\"name\":\"Serie<br>original\",\"x\":[\"2010-03-01T00:00:00\",\"2010-04-01T00:00:00\",\"2010-05-01T00:00:00\",\"2010-06-01T00:00:00\",\"2010-07-01T00:00:00\",\"2010-08-01T00:00:00\",\"2010-09-01T00:00:00\",\"2010-10-01T00:00:00\",\"2010-11-01T00:00:00\",\"2010-12-01T00:00:00\",\"2011-01-01T00:00:00\",\"2011-02-01T00:00:00\",\"2011-03-01T00:00:00\",\"2011-04-01T00:00:00\",\"2011-05-01T00:00:00\",\"2011-06-01T00:00:00\",\"2011-07-01T00:00:00\",\"2011-08-01T00:00:00\",\"2011-09-01T00:00:00\",\"2011-10-01T00:00:00\",\"2011-11-01T00:00:00\",\"2011-12-01T00:00:00\",\"2012-01-01T00:00:00\",\"2012-02-01T00:00:00\",\"2012-03-01T00:00:00\",\"2012-04-01T00:00:00\",\"2012-05-01T00:00:00\",\"2012-06-01T00:00:00\",\"2012-07-01T00:00:00\",\"2012-08-01T00:00:00\",\"2012-09-01T00:00:00\",\"2012-10-01T00:00:00\",\"2012-11-01T00:00:00\",\"2012-12-01T00:00:00\",\"2013-01-01T00:00:00\",\"2013-02-01T00:00:00\",\"2013-03-01T00:00:00\",\"2013-04-01T00:00:00\",\"2013-05-01T00:00:00\",\"2013-06-01T00:00:00\",\"2013-07-01T00:00:00\",\"2013-08-01T00:00:00\",\"2013-09-01T00:00:00\",\"2013-10-01T00:00:00\",\"2013-11-01T00:00:00\",\"2013-12-01T00:00:00\",\"2014-01-01T00:00:00\",\"2014-02-01T00:00:00\",\"2014-03-01T00:00:00\",\"2014-04-01T00:00:00\",\"2014-05-01T00:00:00\",\"2014-06-01T00:00:00\",\"2014-07-01T00:00:00\",\"2014-08-01T00:00:00\",\"2014-09-01T00:00:00\",\"2014-10-01T00:00:00\",\"2014-11-01T00:00:00\",\"2014-12-01T00:00:00\",\"2015-01-01T00:00:00\",\"2015-02-01T00:00:00\",\"2015-03-01T00:00:00\",\"2015-04-01T00:00:00\",\"2015-05-01T00:00:00\",\"2015-06-01T00:00:00\",\"2015-07-01T00:00:00\",\"2015-08-01T00:00:00\",\"2015-09-01T00:00:00\",\"2015-10-01T00:00:00\",\"2015-11-01T00:00:00\",\"2015-12-01T00:00:00\",\"2016-01-01T00:00:00\",\"2016-02-01T00:00:00\",\"2016-03-01T00:00:00\",\"2016-04-01T00:00:00\",\"2016-05-01T00:00:00\",\"2016-06-01T00:00:00\",\"2016-07-01T00:00:00\",\"2016-08-01T00:00:00\",\"2016-09-01T00:00:00\",\"2016-10-01T00:00:00\",\"2016-11-01T00:00:00\",\"2016-12-01T00:00:00\",\"2017-01-01T00:00:00\",\"2017-02-01T00:00:00\",\"2017-03-01T00:00:00\",\"2017-04-01T00:00:00\",\"2017-05-01T00:00:00\",\"2017-06-01T00:00:00\",\"2017-07-01T00:00:00\",\"2017-08-01T00:00:00\",\"2017-09-01T00:00:00\",\"2017-10-01T00:00:00\",\"2017-11-01T00:00:00\",\"2017-12-01T00:00:00\",\"2018-01-01T00:00:00\",\"2018-02-01T00:00:00\",\"2018-03-01T00:00:00\",\"2018-04-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-06-01T00:00:00\",\"2018-07-01T00:00:00\",\"2018-08-01T00:00:00\",\"2018-09-01T00:00:00\",\"2018-10-01T00:00:00\",\"2018-11-01T00:00:00\",\"2018-12-01T00:00:00\",\"2019-01-01T00:00:00\",\"2019-02-01T00:00:00\",\"2019-03-01T00:00:00\",\"2019-04-01T00:00:00\",\"2019-05-01T00:00:00\",\"2019-06-01T00:00:00\",\"2019-07-01T00:00:00\",\"2019-08-01T00:00:00\",\"2019-09-01T00:00:00\",\"2019-10-01T00:00:00\",\"2019-11-01T00:00:00\",\"2019-12-01T00:00:00\",\"2020-01-01T00:00:00\",\"2020-02-01T00:00:00\",\"2020-03-01T00:00:00\",\"2020-04-01T00:00:00\",\"2020-05-01T00:00:00\",\"2020-06-01T00:00:00\",\"2020-07-01T00:00:00\",\"2020-08-01T00:00:00\",\"2020-09-01T00:00:00\",\"2020-10-01T00:00:00\",\"2020-11-01T00:00:00\",\"2020-12-01T00:00:00\",\"2021-01-01T00:00:00\",\"2021-02-01T00:00:00\",\"2021-03-01T00:00:00\",\"2021-04-01T00:00:00\",\"2021-05-01T00:00:00\",\"2021-06-01T00:00:00\",\"2021-07-01T00:00:00\",\"2021-08-01T00:00:00\",\"2021-09-01T00:00:00\",\"2021-10-01T00:00:00\",\"2021-11-01T00:00:00\",\"2021-12-01T00:00:00\",\"2022-01-01T00:00:00\",\"2022-02-01T00:00:00\",\"2022-03-01T00:00:00\",\"2022-04-01T00:00:00\",\"2022-05-01T00:00:00\",\"2022-06-01T00:00:00\",\"2022-07-01T00:00:00\",\"2022-08-01T00:00:00\",\"2022-09-01T00:00:00\",\"2022-10-01T00:00:00\",\"2022-11-01T00:00:00\",\"2022-12-01T00:00:00\",\"2023-01-01T00:00:00\",\"2023-02-01T00:00:00\",\"2023-03-01T00:00:00\",\"2023-04-01T00:00:00\",\"2023-05-01T00:00:00\",\"2023-06-01T00:00:00\",\"2023-07-01T00:00:00\",\"2023-08-01T00:00:00\",\"2023-09-01T00:00:00\",\"2023-10-01T00:00:00\",\"2023-11-01T00:00:00\",\"2023-12-01T00:00:00\",\"2024-01-01T00:00:00\",\"2024-02-01T00:00:00\",\"2024-03-01T00:00:00\",\"2024-04-01T00:00:00\",\"2024-05-01T00:00:00\",\"2024-06-01T00:00:00\",\"2024-07-01T00:00:00\",\"2024-08-01T00:00:00\",\"2024-09-01T00:00:00\",\"2024-10-01T00:00:00\",\"2024-11-01T00:00:00\",\"2024-12-01T00:00:00\",\"2025-01-01T00:00:00\",\"2025-02-01T00:00:00\",\"2025-03-01T00:00:00\",\"2025-04-01T00:00:00\",\"2025-05-01T00:00:00\",\"2025-06-01T00:00:00\",\"2025-07-01T00:00:00\",\"2025-08-01T00:00:00\",\"2025-09-01T00:00:00\",\"2025-10-01T00:00:00\",\"2025-11-01T00:00:00\",\"2025-12-01T00:00:00\",\"2026-01-01T00:00:00\",\"2026-02-01T00:00:00\",\"2026-03-01T00:00:00\",\"2026-04-01T00:00:00\",\"2026-05-01T00:00:00\",\"2026-06-01T00:00:00\",\"2026-07-01T00:00:00\",\"2026-08-01T00:00:00\",\"2026-09-01T00:00:00\",\"2026-10-01T00:00:00\",\"2026-11-01T00:00:00\",\"2026-12-01T00:00:00\",\"2027-01-01T00:00:00\",\"2027-02-01T00:00:00\",\"2027-03-01T00:00:00\",\"2027-04-01T00:00:00\",\"2027-05-01T00:00:00\",\"2027-06-01T00:00:00\",\"2027-07-01T00:00:00\",\"2027-08-01T00:00:00\",\"2027-09-01T00:00:00\",\"2027-10-01T00:00:00\",\"2027-11-01T00:00:00\",\"2027-12-01T00:00:00\",\"2028-01-01T00:00:00\",\"2028-02-01T00:00:00\",\"2028-03-01T00:00:00\",\"2028-04-01T00:00:00\",\"2028-05-01T00:00:00\",\"2028-06-01T00:00:00\",\"2028-07-01T00:00:00\",\"2028-08-01T00:00:00\",\"2028-09-01T00:00:00\",\"2028-10-01T00:00:00\",\"2028-11-01T00:00:00\",\"2028-12-01T00:00:00\",\"2029-01-01T00:00:00\",\"2029-02-01T00:00:00\",\"2029-03-01T00:00:00\",\"2029-04-01T00:00:00\",\"2029-05-01T00:00:00\",\"2029-06-01T00:00:00\",\"2029-07-01T00:00:00\",\"2029-08-01T00:00:00\",\"2029-09-01T00:00:00\",\"2029-10-01T00:00:00\",\"2029-11-01T00:00:00\",\"2029-12-01T00:00:00\",\"2030-01-01T00:00:00\",\"2030-02-01T00:00:00\",\"2030-03-01T00:00:00\",\"2030-04-01T00:00:00\",\"2030-05-01T00:00:00\",\"2030-06-01T00:00:00\",\"2030-07-01T00:00:00\",\"2030-08-01T00:00:00\",\"2030-09-01T00:00:00\",\"2030-10-01T00:00:00\",\"2030-11-01T00:00:00\",\"2030-12-01T00:00:00\",\"2031-01-01T00:00:00\",\"2031-02-01T00:00:00\",\"2031-03-01T00:00:00\",\"2031-04-01T00:00:00\",\"2031-05-01T00:00:00\",\"2031-06-01T00:00:00\",\"2031-07-01T00:00:00\",\"2031-08-01T00:00:00\",\"2031-09-01T00:00:00\",\"2031-10-01T00:00:00\",\"2031-11-01T00:00:00\",\"2031-12-01T00:00:00\",\"2032-01-01T00:00:00\",\"2032-02-01T00:00:00\",\"2032-03-01T00:00:00\",\"2032-04-01T00:00:00\",\"2032-05-01T00:00:00\",\"2032-06-01T00:00:00\",\"2032-07-01T00:00:00\",\"2032-08-01T00:00:00\",\"2032-09-01T00:00:00\",\"2032-10-01T00:00:00\",\"2032-11-01T00:00:00\",\"2032-12-01T00:00:00\",\"2033-01-01T00:00:00\",\"2033-02-01T00:00:00\",\"2033-03-01T00:00:00\",\"2033-04-01T00:00:00\",\"2033-05-01T00:00:00\",\"2033-06-01T00:00:00\",\"2033-07-01T00:00:00\",\"2033-08-01T00:00:00\",\"2033-09-01T00:00:00\",\"2033-10-01T00:00:00\",\"2033-11-01T00:00:00\",\"2033-12-01T00:00:00\",\"2034-01-01T00:00:00\",\"2034-02-01T00:00:00\",\"2034-03-01T00:00:00\",\"2034-04-01T00:00:00\",\"2034-05-01T00:00:00\",\"2034-06-01T00:00:00\",\"2034-07-01T00:00:00\",\"2034-08-01T00:00:00\",\"2034-09-01T00:00:00\",\"2034-10-01T00:00:00\",\"2034-11-01T00:00:00\",\"2034-12-01T00:00:00\",\"2035-01-01T00:00:00\",\"2035-02-01T00:00:00\",\"2035-03-01T00:00:00\",\"2035-04-01T00:00:00\",\"2035-05-01T00:00:00\",\"2035-06-01T00:00:00\",\"2035-07-01T00:00:00\",\"2035-08-01T00:00:00\",\"2035-09-01T00:00:00\",\"2035-10-01T00:00:00\",\"2035-11-01T00:00:00\",\"2035-12-01T00:00:00\"],\"y\":[151263717.0,138540207.0,144829725.8,142121115.0,146972858.6,152774142.7,152623829.0,154392733.7,145541847.4,153736953.9,149398994.7,145296556.6,166673564.7,153194725.2,163093012.6,155735966.9,162615844.0,171479051.6,168610912.0,167816670.9,163789529.7,166535151.9,168164219.0,168488564.7,179307850.0,161208767.6,168755726.0,169726593.9,171187391.8,170284286.7,173006137.7,173595386.5,174813334.5,169807397.7,170147195.0,155278661.2,155114000.9,175205106.1,169247579.1,166634602.9,172517961.2,156099125.1,168385138.9,182466840.7,173774835.0,171905219.8,169746158.5,161952965.1,172491916.5,167343173.8,174144928.7,156760261.7,178806585.0,169601538.9,176739104.4,181546884.2,168830464.6,177087264.0,167873058.5,164579745.9,170769415.9,167929135.3,168909500.8,166862896.1,179769568.2,172004054.5,187580790.4,204770154.3,188825130.5,194163762.5,176684213.2,185772030.5,196007347.4,174342281.5,163342798.3,159876466.6,157231402.0,178024390.7,176113050.8,172493635.2,169339354.1,176255073.5,157724099.2,164625561.0,172279786.0,173102026.0,164923834.7,165439213.0,170744852.2,177161025.9,173041490.7,172604224.9,170319477.5,171285731.9,165366455.4,163891180.7,172540504.7,172975333.8,169702614.6,169817247.9,173140867.2,184174962.3,176865973.8,181616766.5,179045887.1,180374589.6,171488331.7,170184611.0,179207857.4,172965874.8,181705536.6,170036337.3,183011127.5,186591329.8,178381787.7,184017937.3,179008411.3,187221740.7,177090586.6,174198818.7,149801122.6,91136383.8,122738985.1,134829848.5,150864769.0,150370608.2,155665655.5,163903843.7,154082476.3,168933599.6,157942518.0,162321538.0,185434423.0,173615056.0,147994291.0,181532407.0,195763190.0,188254733.0,196017303.0,193201846.0,205439730.0,195995028.0,189352686.0,192565678.0,217512697.0],\"type\":\"scatter\"},{\"line\":{\"color\":\"#8C564B\",\"dash\":\"dot\",\"width\":4},\"name\":\"LSTM\",\"x\":[\"2010-03-01T00:00:00\",\"2010-04-01T00:00:00\",\"2010-05-01T00:00:00\",\"2010-06-01T00:00:00\",\"2010-07-01T00:00:00\",\"2010-08-01T00:00:00\",\"2010-09-01T00:00:00\",\"2010-10-01T00:00:00\",\"2010-11-01T00:00:00\",\"2010-12-01T00:00:00\",\"2011-01-01T00:00:00\",\"2011-02-01T00:00:00\",\"2011-03-01T00:00:00\",\"2011-04-01T00:00:00\",\"2011-05-01T00:00:00\",\"2011-06-01T00:00:00\",\"2011-07-01T00:00:00\",\"2011-08-01T00:00:00\",\"2011-09-01T00:00:00\",\"2011-10-01T00:00:00\",\"2011-11-01T00:00:00\",\"2011-12-01T00:00:00\",\"2012-01-01T00:00:00\",\"2012-02-01T00:00:00\",\"2012-03-01T00:00:00\",\"2012-04-01T00:00:00\",\"2012-05-01T00:00:00\",\"2012-06-01T00:00:00\",\"2012-07-01T00:00:00\",\"2012-08-01T00:00:00\",\"2012-09-01T00:00:00\",\"2012-10-01T00:00:00\",\"2012-11-01T00:00:00\",\"2012-12-01T00:00:00\",\"2013-01-01T00:00:00\",\"2013-02-01T00:00:00\",\"2013-03-01T00:00:00\",\"2013-04-01T00:00:00\",\"2013-05-01T00:00:00\",\"2013-06-01T00:00:00\",\"2013-07-01T00:00:00\",\"2013-08-01T00:00:00\",\"2013-09-01T00:00:00\",\"2013-10-01T00:00:00\",\"2013-11-01T00:00:00\",\"2013-12-01T00:00:00\",\"2014-01-01T00:00:00\",\"2014-02-01T00:00:00\",\"2014-03-01T00:00:00\",\"2014-04-01T00:00:00\",\"2014-05-01T00:00:00\",\"2014-06-01T00:00:00\",\"2014-07-01T00:00:00\",\"2014-08-01T00:00:00\",\"2014-09-01T00:00:00\",\"2014-10-01T00:00:00\",\"2014-11-01T00:00:00\",\"2014-12-01T00:00:00\",\"2015-01-01T00:00:00\",\"2015-02-01T00:00:00\",\"2015-03-01T00:00:00\",\"2015-04-01T00:00:00\",\"2015-05-01T00:00:00\",\"2015-06-01T00:00:00\",\"2015-07-01T00:00:00\",\"2015-08-01T00:00:00\",\"2015-09-01T00:00:00\",\"2015-10-01T00:00:00\",\"2015-11-01T00:00:00\",\"2015-12-01T00:00:00\",\"2016-01-01T00:00:00\",\"2016-02-01T00:00:00\",\"2016-03-01T00:00:00\",\"2016-04-01T00:00:00\",\"2016-05-01T00:00:00\",\"2016-06-01T00:00:00\",\"2016-07-01T00:00:00\",\"2016-08-01T00:00:00\",\"2016-09-01T00:00:00\",\"2016-10-01T00:00:00\",\"2016-11-01T00:00:00\",\"2016-12-01T00:00:00\",\"2017-01-01T00:00:00\",\"2017-02-01T00:00:00\",\"2017-03-01T00:00:00\",\"2017-04-01T00:00:00\",\"2017-05-01T00:00:00\",\"2017-06-01T00:00:00\",\"2017-07-01T00:00:00\",\"2017-08-01T00:00:00\",\"2017-09-01T00:00:00\",\"2017-10-01T00:00:00\",\"2017-11-01T00:00:00\",\"2017-12-01T00:00:00\",\"2018-01-01T00:00:00\",\"2018-02-01T00:00:00\",\"2018-03-01T00:00:00\",\"2018-04-01T00:00:00\",\"2018-05-01T00:00:00\",\"2018-06-01T00:00:00\",\"2018-07-01T00:00:00\",\"2018-08-01T00:00:00\",\"2018-09-01T00:00:00\",\"2018-10-01T00:00:00\",\"2018-11-01T00:00:00\",\"2018-12-01T00:00:00\",\"2019-01-01T00:00:00\",\"2019-02-01T00:00:00\",\"2019-03-01T00:00:00\",\"2019-04-01T00:00:00\",\"2019-05-01T00:00:00\",\"2019-06-01T00:00:00\",\"2019-07-01T00:00:00\",\"2019-08-01T00:00:00\",\"2019-09-01T00:00:00\",\"2019-10-01T00:00:00\",\"2019-11-01T00:00:00\",\"2019-12-01T00:00:00\",\"2020-01-01T00:00:00\",\"2020-02-01T00:00:00\",\"2020-03-01T00:00:00\",\"2020-04-01T00:00:00\",\"2020-05-01T00:00:00\",\"2020-06-01T00:00:00\",\"2020-07-01T00:00:00\",\"2020-08-01T00:00:00\",\"2020-09-01T00:00:00\",\"2020-10-01T00:00:00\",\"2020-11-01T00:00:00\",\"2020-12-01T00:00:00\",\"2021-01-01T00:00:00\",\"2021-02-01T00:00:00\",\"2021-03-01T00:00:00\",\"2021-04-01T00:00:00\",\"2021-05-01T00:00:00\",\"2021-06-01T00:00:00\",\"2021-07-01T00:00:00\",\"2021-08-01T00:00:00\",\"2021-09-01T00:00:00\",\"2021-10-01T00:00:00\",\"2021-11-01T00:00:00\",\"2021-12-01T00:00:00\",\"2022-01-01T00:00:00\",\"2022-02-01T00:00:00\",\"2022-03-01T00:00:00\",\"2022-04-01T00:00:00\",\"2022-05-01T00:00:00\",\"2022-06-01T00:00:00\",\"2022-07-01T00:00:00\",\"2022-08-01T00:00:00\",\"2022-09-01T00:00:00\",\"2022-10-01T00:00:00\",\"2022-11-01T00:00:00\",\"2022-12-01T00:00:00\",\"2023-01-01T00:00:00\",\"2023-02-01T00:00:00\",\"2023-03-01T00:00:00\",\"2023-04-01T00:00:00\",\"2023-05-01T00:00:00\",\"2023-06-01T00:00:00\",\"2023-07-01T00:00:00\",\"2023-08-01T00:00:00\",\"2023-09-01T00:00:00\",\"2023-10-01T00:00:00\",\"2023-11-01T00:00:00\",\"2023-12-01T00:00:00\",\"2024-01-01T00:00:00\",\"2024-02-01T00:00:00\",\"2024-03-01T00:00:00\",\"2024-04-01T00:00:00\",\"2024-05-01T00:00:00\",\"2024-06-01T00:00:00\",\"2024-07-01T00:00:00\",\"2024-08-01T00:00:00\",\"2024-09-01T00:00:00\",\"2024-10-01T00:00:00\",\"2024-11-01T00:00:00\",\"2024-12-01T00:00:00\",\"2025-01-01T00:00:00\",\"2025-02-01T00:00:00\",\"2025-03-01T00:00:00\",\"2025-04-01T00:00:00\",\"2025-05-01T00:00:00\",\"2025-06-01T00:00:00\",\"2025-07-01T00:00:00\",\"2025-08-01T00:00:00\",\"2025-09-01T00:00:00\",\"2025-10-01T00:00:00\",\"2025-11-01T00:00:00\",\"2025-12-01T00:00:00\",\"2026-01-01T00:00:00\",\"2026-02-01T00:00:00\",\"2026-03-01T00:00:00\",\"2026-04-01T00:00:00\",\"2026-05-01T00:00:00\",\"2026-06-01T00:00:00\",\"2026-07-01T00:00:00\",\"2026-08-01T00:00:00\",\"2026-09-01T00:00:00\",\"2026-10-01T00:00:00\",\"2026-11-01T00:00:00\",\"2026-12-01T00:00:00\",\"2027-01-01T00:00:00\",\"2027-02-01T00:00:00\",\"2027-03-01T00:00:00\",\"2027-04-01T00:00:00\",\"2027-05-01T00:00:00\",\"2027-06-01T00:00:00\",\"2027-07-01T00:00:00\",\"2027-08-01T00:00:00\",\"2027-09-01T00:00:00\",\"2027-10-01T00:00:00\",\"2027-11-01T00:00:00\",\"2027-12-01T00:00:00\",\"2028-01-01T00:00:00\",\"2028-02-01T00:00:00\",\"2028-03-01T00:00:00\",\"2028-04-01T00:00:00\",\"2028-05-01T00:00:00\",\"2028-06-01T00:00:00\",\"2028-07-01T00:00:00\",\"2028-08-01T00:00:00\",\"2028-09-01T00:00:00\",\"2028-10-01T00:00:00\",\"2028-11-01T00:00:00\",\"2028-12-01T00:00:00\",\"2029-01-01T00:00:00\",\"2029-02-01T00:00:00\",\"2029-03-01T00:00:00\",\"2029-04-01T00:00:00\",\"2029-05-01T00:00:00\",\"2029-06-01T00:00:00\",\"2029-07-01T00:00:00\",\"2029-08-01T00:00:00\",\"2029-09-01T00:00:00\",\"2029-10-01T00:00:00\",\"2029-11-01T00:00:00\",\"2029-12-01T00:00:00\",\"2030-01-01T00:00:00\",\"2030-02-01T00:00:00\",\"2030-03-01T00:00:00\",\"2030-04-01T00:00:00\",\"2030-05-01T00:00:00\",\"2030-06-01T00:00:00\",\"2030-07-01T00:00:00\",\"2030-08-01T00:00:00\",\"2030-09-01T00:00:00\",\"2030-10-01T00:00:00\",\"2030-11-01T00:00:00\",\"2030-12-01T00:00:00\",\"2031-01-01T00:00:00\",\"2031-02-01T00:00:00\",\"2031-03-01T00:00:00\",\"2031-04-01T00:00:00\",\"2031-05-01T00:00:00\",\"2031-06-01T00:00:00\",\"2031-07-01T00:00:00\",\"2031-08-01T00:00:00\",\"2031-09-01T00:00:00\",\"2031-10-01T00:00:00\",\"2031-11-01T00:00:00\",\"2031-12-01T00:00:00\",\"2032-01-01T00:00:00\",\"2032-02-01T00:00:00\",\"2032-03-01T00:00:00\",\"2032-04-01T00:00:00\",\"2032-05-01T00:00:00\",\"2032-06-01T00:00:00\",\"2032-07-01T00:00:00\",\"2032-08-01T00:00:00\",\"2032-09-01T00:00:00\",\"2032-10-01T00:00:00\",\"2032-11-01T00:00:00\",\"2032-12-01T00:00:00\",\"2033-01-01T00:00:00\",\"2033-02-01T00:00:00\",\"2033-03-01T00:00:00\",\"2033-04-01T00:00:00\",\"2033-05-01T00:00:00\",\"2033-06-01T00:00:00\",\"2033-07-01T00:00:00\",\"2033-08-01T00:00:00\",\"2033-09-01T00:00:00\",\"2033-10-01T00:00:00\",\"2033-11-01T00:00:00\",\"2033-12-01T00:00:00\",\"2034-01-01T00:00:00\",\"2034-02-01T00:00:00\",\"2034-03-01T00:00:00\",\"2034-04-01T00:00:00\",\"2034-05-01T00:00:00\",\"2034-06-01T00:00:00\",\"2034-07-01T00:00:00\",\"2034-08-01T00:00:00\",\"2034-09-01T00:00:00\",\"2034-10-01T00:00:00\",\"2034-11-01T00:00:00\",\"2034-12-01T00:00:00\",\"2035-01-01T00:00:00\",\"2035-02-01T00:00:00\",\"2035-03-01T00:00:00\",\"2035-04-01T00:00:00\",\"2035-05-01T00:00:00\",\"2035-06-01T00:00:00\",\"2035-07-01T00:00:00\",\"2035-08-01T00:00:00\",\"2035-09-01T00:00:00\",\"2035-10-01T00:00:00\",\"2035-11-01T00:00:00\",\"2035-12-01T00:00:00\"],\"y\":[156580061.51665777,148180148.47235206,151214545.77281985,150886760.25363392,157209765.55423948,157350090.64384928,160558464.99258444,161292322.50131515,158982528.89173564,160963508.78014672,151861861.0648708,152144872.71897325,163692160.99366856,154295178.2657309,163703746.15593275,158608203.1091886,162350835.72759277,170544739.2772537,168874073.00694156,170374878.8032239,166629609.76948002,167821570.80763844,160101521.48590618,160307357.73040012,172677674.6132303,158899542.06945688,165685411.51233214,163227458.8932763,167436752.09203938,173361884.65480664,169058042.0693464,176273594.48428732,170327732.16433468,171398757.06455305,167426485.137445,166463560.79876995,166461790.63418472,167466362.80261192,174119771.20620498,167374299.1789493,178793578.18997887,179544406.68088204,172793300.25741464,179694742.61616746,176452396.17262635,180917346.33318856,172334684.5101495,169381839.0687541,173338699.26504773,167174504.09189096,178968877.2122237,166341050.34424132,180612200.08915547,180039397.4272199,180329591.42996922,185018930.66640165,177479762.03481916,181546078.6634022,171658933.59550598,169147122.7773675,175997343.35237744,168686541.01752046,171042163.05831936,168079276.6407873,179281819.7130471,178639634.1319857,179920690.94339573,185151286.24907026,180564111.87335917,183683857.4709886,173053687.70159474,171349094.53216818,175802685.5089239,177793028.43809855,173325004.97051176,171052445.07814422,170226734.85897806,177610663.8227433,176696912.3964614,179620162.19251475,175236647.1354885,180073497.57648522,169287086.301445,164609731.45588538,175337169.88608396,162464615.88103932,171652199.43746683,167706608.03359666,170686585.95514527,177375420.24828875,177681673.78676453,178183217.90837538,174223299.4702877,174617910.58571997,168918507.9043385,166121534.87044194,170647454.01888874,169174857.86674124,173162737.37266034,169661472.3449141,173722531.20804825,180093767.84413996,178213725.00016344,184893188.71992806,178388737.7830285,179825930.64347136,173773323.63272154,170683452.38719863,177622821.46376696,169726855.44533888,178781322.62495688,170466445.27427962,179376625.20866302,183869702.15459228,181871133.60955772,187088539.30591846,180849605.52418855,184021921.24369177,177214945.41286832,174992371.95534164,177309570.1257181,134402825.6847187,129122021.73205322,130967391.94800496,145427956.83615425,147398714.9656625,151537032.09717298,156434162.29175833,150603812.62676117,176612547.10559073,166321571.00118852,167570071.84946078,178487196.59704375,169531715.5145089,171619507.88725445,171408218.02931497,179771997.11823618,175619793.6105007,182769141.8699539,183982842.03574204,182434565.69811442,186900065.73959032,175437903.54990658,174724504.62421203,187952492.61274087,171843738.77820426,175779146.08624792,177632365.2872967,181787122.3516041,190366673.2045423,188888329.66695425,189150728.3194078,186838079.84864616,189928802.27969304,177765248.1530333,176669478.61169794,187239297.06765822,170486813.46593267,179842547.59272677,179705341.0058331,184079621.0765551,194903476.98203444,186263838.45719665,190757774.12126514,188303135.85292208,189125591.98229748,181990518.02875498,179173485.64043084,177716399.14309612,181311678.74185637,182321290.22989002,180152220.93852893,188284198.8581677,192178161.71707115,190497228.49216464,195340511.78659025,190839020.9094197,191772560.51597992,184049678.93091127,180778542.83186054,188566536.3432047,176908782.26577562,186715991.2205719,176238002.87720126,192054242.6634896,191093028.22847772,194616032.38385367,197323307.0352781,190508226.11043885,196004820.65865946,186268410.75465724,183136786.2227686,190527381.55103567,178906921.45174056,183325930.19185454,185629644.9809222,192259747.47291222,193595227.42954913,196736538.90465736,199718415.04525056,192594624.94936198,198426985.82263258,185728721.46938843,184846750.1468729,183649681.99557072,187391757.20044592,182681635.47852138,190276440.00638697,194361580.64049554,196063447.0031993,198808339.53521374,199389819.76992455,196660971.70840606,200566497.13172793,187829078.2443815,187111212.47783995,197006711.21605542,180508927.93399146,189893060.02030185,189616198.7465562,194111234.1724521,199954991.89260545,200845798.97281662,201607391.57092106,198650501.11513305,200176239.86791378,192067447.3380339,188856067.47581148,193545775.81039146,187091409.2323311,192106850.44843966,192053655.1194996,196102179.71084726,201892237.4168384,200363357.56349578,205469506.5325208,200547650.52835664,202377330.30672947,193994252.6575216,190791346.98746252,198157536.64229912,186817252.16746247,196523215.24059868,188904404.26791123,199833520.93898222,203573200.77220592,202460761.55330837,207451684.10675764,202468429.75563928,204437056.15503,195930895.57253402,192745555.96125266,200007433.9600199,188790963.0821512,195807466.13894415,190417894.9882852,203490658.3742273,203138275.09992185,206526204.3985217,209521240.01796764,202113470.32691622,208510521.2354913,197919084.1737454,192623467.3331784,195971692.2167622,197247227.6211894,192668196.00257036,199666274.28244638,203685097.7718384,205276038.84227777,208013745.2593377,208885411.96418256,205919550.1636243,210522264.32460913,197384630.05607972,196326297.61256823,205700245.60305208,192928274.60952497,196848970.71997303,198875131.23469144,202950087.77297348,208954147.07839638,209918781.32073465,210995169.4430155,207805611.5671906,212510550.84981883,199296196.8949039,198243378.32576004,207487622.21414548,192076719.98741442,200954298.7629685,200840616.53352028,205040433.70229092,210796150.21532854,211744318.1607165,212856019.18331894,209599127.25971788,211886428.48014203,203069570.11616907,199954773.44676304,204189587.14601448,200994688.64597285,200783308.39665028,205091625.3555728,207024193.12573156,212832781.06525323,211356802.76885566,216526745.45648637,211300119.83905193,213907753.0558659],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"scatter\":[{\"type\":\"scatter\"}]}},\"xaxis\":{\"anchor\":\"y\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"Fecha\"}},\"yaxis\":{\"anchor\":\"x\",\"domain\":[0.0,1.0],\"title\":{\"text\":\"galones/mes\"}},\"legend\":{\"tracegroupgap\":0},\"margin\":{\"t\":60},\"height\":400,\"width\":700,\"title\":{\"text\":\"ACPM/Diesel Serie y Proyecciones\"}},                        {\"responsive\": true}                    ).then(function(){\n","                            \n","var gd = document.getElementById('a992f317-fa95-40d6-939c-1a5806778411');\n","var x = new MutationObserver(function (mutations, observer) {{\n","        var display = window.getComputedStyle(gd).display;\n","        if (!display || display === 'none') {{\n","            console.log([gd, 'removed!']);\n","            Plotly.purge(gd);\n","            observer.disconnect();\n","        }}\n","}});\n","\n","// Listen for the removal of the full notebook cells\n","var notebookContainer = gd.closest('#notebook-container');\n","if (notebookContainer) {{\n","    x.observe(notebookContainer, {childList: true});\n","}}\n","\n","// Listen for the clearing of the current output cell\n","var outputEl = gd.closest('.output');\n","if (outputEl) {{\n","    x.observe(outputEl, {childList: true});\n","}}\n","\n","                        })                };                            </script>        </div>\n","</body>\n","</html>"]},"metadata":{}}],"source":["upme.graficos(resultados = res_mod, titulo = \"ACPM/Diesel\", ylab = \"galones/mes\")"]},{"cell_type":"markdown","metadata":{"id":"EF6sUF6FtwzY"},"source":["## ***Exportar*** Resultados"]},{"cell_type":"code","execution_count":29,"metadata":{"executionInfo":{"elapsed":3341,"status":"ok","timestamp":1656447630002,"user":{"displayName":"Julieth Stefany Garcia Collazos","userId":"18205519057156966891"},"user_tz":300},"id":"5UmSf9hQt1KY"},"outputs":[],"source":["# resultados: representa la variable que contiene los mape, las proyecciones y \n","#             demás información generada durante el proceso de estimación\n","# ext_doc: representa la extensión del googlesheet a donde se desean exportar\n","#          las proyecciones realizadas\n","# hoja: representa la hoja del googlesheet en la cual se desean exportar \n","#       las proyecciones realizadas, del modelo que ofrece mejor MAPE\n","#       ya se dentro de muestra o fuera demuestra, dependiendo del criterio\n","#       de optimización seleccionado previamente\n","\n","upme.exportar(resultados = res_comb, ext_doc = \"1xPrSHqD6QLXQppyeIi2wwoTPA0VMLiwkUazhYpQDOwc\", hoja = \"ACPM_3_1000_Q12022_68\")"]}],"metadata":{"colab":{"collapsed_sections":["XLon4SSCgcM-","pONFIkZIM_Ri","tIi2TWg6nI2J","c0Iu4S2azwod","yUFuHLgzylI_","M02hF1ewHr3H","ulb4gJlaS4EN"],"name":"Copia de ACPM - Escenario 3- Nuevo PIB","provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}